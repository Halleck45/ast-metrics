<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <title>Communities - All</title>

  <style>
    .card-graph  {
        height: 135px;
    }
    .sortable th {
        cursor: pointer;
    }
    .progress {
        height: 10px;
        background-color: #e4e4e4;
        border-radius: 20px;
        overflow: hidden;
    }
    
</style>
</head>
<body>

    <div class="grid grid-cols-7">
        <aside class="self-start sticky top-0 col-span-1 flex flex-col h-screen px-4 py-8 overflow-y-auto bg-white border-r rtl:border-r-0 rtl:border-l ">
            <a href="https://github.com/Halleck45/ast-metrics">
                AST Metrics
            </a>
        
            <div class="flex flex-col justify-between flex-1 mt-6">
                <nav role="menu">
                    <a 
                        role="menuitem"
                        aria-label="Dashboard"
                        tabindex="0"
                        href="index.html"
                        class="flex items-center px-4 py-2 text-gray-600 rounded-md">
                        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M19 11H5M19 11C20.1046 11 21 11.8954 21 13V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V13C3 11.8954 3.89543 11 5 11M19 11V9C19 7.89543 18.1046 7 17 7M5 11V9C5 7.89543 5.89543 7 7 7M7 7V5C7 3.89543 7.89543 3 9 3H15C16.1046 3 17 3.89543 17 5V7M7 7H17"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
        
                        <span class="mx-4 font-medium">Dashboard</span>
                    </a>
        
                    <a 
                    role="menuitem"
                    aria-label="Metrics"
                    tabindex="0"
                    href="risks.html"
                    class="flex items-center px-4 py-2 mt-5 text-gray-600 transition-colors duration-300 transform rounded-md">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5" />
                        </svg>
                        <span class="mx-4 font-medium">Refactoring candidates</span>
                    </a>

                    

                    <a 
                    role="menuitem"
                    aria-label="Communities"
                    tabindex="0"
                    href="communities.html"
                    class="flex items-center px-4 py-2 mt-5 text-gray-700 bg-gray-100 transition-colors duration-300 transform rounded-md">

                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M480-80q-50 0-85-35t-35-85q0-5 .5-11t1.5-11l-83-47q-16 14-36 21.5t-43 7.5q-50 0-85-35t-35-85q0-50 35-85t85-35q24 0 45 9t38 25l119-60q-3-23 2.5-45t19.5-41l-34-52q-7 2-14.5 3t-15.5 1q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 20-6.5 38.5T456-688l35 52q8-2 15-3t15-1q17 0 32 4t29 12l66-54q-4-10-6-20.5t-2-21.5q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35q-17 0-32-4.5T699-617l-66 55q4 10 6 20.5t2 21.5q0 50-35 85t-85 35q-24 0-45.5-9T437-434l-118 59q2 9 1.5 18t-2.5 18l84 48q16-14 35.5-21.5T480-320q50 0 85 35t35 85q0 50-35 85t-85 35ZM200-320q17 0 28.5-11.5T240-360q0-17-11.5-28.5T200-400q-17 0-28.5 11.5T160-360q0 17 11.5 28.5T200-320Zm160-400q17 0 28.5-11.5T400-760q0-17-11.5-28.5T360-800q-17 0-28.5 11.5T320-760q0 17 11.5 28.5T360-720Zm120 560q17 0 28.5-11.5T520-200q0-17-11.5-28.5T480-240q-17 0-28.5 11.5T440-200q0 17 11.5 28.5T480-160Zm40-320q17 0 28.5-11.5T560-520q0-17-11.5-28.5T520-560q-17 0-28.5 11.5T480-520q0 17 11.5 28.5T520-480Zm240-200q17 0 28.5-11.5T800-720q0-17-11.5-28.5T760-760q-17 0-28.5 11.5T720-720q0 17 11.5 28.5T760-680Z"/></svg>
                        <span class="mx-4 font-medium">Communities</span>
                    </a>

                    <a 
                    tabindex="0"
                    role="menuitem"
                    aria-label="Help"
                    href="https://halleck45.github.io/ast-metrics/"
                    class="flex items-center px-4 py-2 mt-5 text-gray-600 transition-colors duration-300 transform rounded-md hover:text-gray-700">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M16.712 4.33a9.027 9.027 0 0 1 1.652 1.306c.51.51.944 1.064 1.306 1.652M16.712 4.33l-3.448 4.138m3.448-4.138a9.014 9.014 0 0 0-9.424 0M19.67 7.288l-4.138 3.448m4.138-3.448a9.014 9.014 0 0 1 0 9.424m-4.138-5.976a3.736 3.736 0 0 0-.88-1.388 3.737 3.737 0 0 0-1.388-.88m2.268 2.268a3.765 3.765 0 0 1 0 2.528m-2.268-4.796a3.765 3.765 0 0 0-2.528 0m4.796 4.796c-.181.506-.475.982-.88 1.388a3.736 3.736 0 0 1-1.388.88m2.268-2.268 4.138 3.448m0 0a9.027 9.027 0 0 1-1.306 1.652c-.51.51-1.064.944-1.652 1.306m0 0-3.448-4.138m3.448 4.138a9.014 9.014 0 0 1-9.424 0m5.976-4.138a3.765 3.765 0 0 1-2.528 0m0 0a3.736 3.736 0 0 1-1.388-.88 3.737 3.737 0 0 1-.88-1.388m2.268 2.268L7.288 19.67m0 0a9.024 9.024 0 0 1-1.652-1.306 9.027 9.027 0 0 1-1.306-1.652m0 0 4.138-3.448M4.33 16.712a9.014 9.014 0 0 1 0-9.424m4.138 5.976a3.765 3.765 0 0 1 0-2.528m0 0c.181-.506.475-.982.88-1.388a3.736 3.736 0 0 1 1.388-.88m-2.268 2.268L4.33 7.288m6.406 1.18L7.288 4.33m0 0a9.024 9.024 0 0 0-1.652 1.306A9.025 9.025 0 0 0 4.33 7.288" />
                        </svg>
                        <span class="mx-4 font-medium">Help</span>
                    </a>

                </nav>
            </div>
        </aside>

        <main class="col-span-6">
            <div class="bg-gray-100 py-8 px-8">

                <!-- start: share buttons -->
                <div id="share-container" class="w-16 absolute right-10 grid grid-cols-2 gap-0">
                    <div class="rounded px-1 py-1 hover:bg-gray-200">
                        <a
                            aria-label="Visit Github repository of AST Metrics"
                                href="https://github.com/Halleck45/ast-metrics/">
                            <svg viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6 fill-slate-900"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.477 2 2 6.463 2 11.97c0 4.404 2.865 8.14 6.839 9.458.5.092.682-.216.682-.48 0-.236-.008-.864-.013-1.695-2.782.602-3.369-1.337-3.369-1.337-.454-1.151-1.11-1.458-1.11-1.458-.908-.618.069-.606.069-.606 1.003.07 1.531 1.027 1.531 1.027.892 1.524 2.341 1.084 2.91.828.092-.643.35-1.083.636-1.332-2.22-.251-4.555-1.107-4.555-4.927 0-1.088.39-1.979 1.029-2.675-.103-.252-.446-1.266.098-2.638 0 0 .84-.268 2.75 1.022A9.607 9.607 0 0 1 12 6.82c.85.004 1.705.114 2.504.336 1.909-1.29 2.747-1.022 2.747-1.022.546 1.372.202 2.386.1 2.638.64.696 1.028 1.587 1.028 2.675 0 3.83-2.339 4.673-4.566 4.92.359.307.678.915.678 1.846 0 1.332-.012 2.407-.012 2.734 0 .267.18.577.688.48 3.97-1.32 6.833-5.054 6.833-9.458C22 6.463 17.522 2 12 2Z"></path></svg>
                        </a>
                    </div>
                    <div class="rounded px-1 py-1 hover:bg-gray-200">
                        <a id="share-twitter" class="cursor-pointer" >
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" width="22px" height="22px" viewBox="0 0 22 22" style="enable-background:new 0 0 24 24;" xml:space="preserve"><path d="M14.095479,10.316482L22.286354,1h-1.940718l-7.115352,8.087682L7.551414,1H1l8.589488,12.231093L1,23h1.940717  l7.509372-8.542861L16.448587,23H23L14.095479,10.316482z M11.436522,13.338465l-0.871624-1.218704l-6.924311-9.68815h2.981339  l5.58978,7.82155l0.867949,1.218704l7.26506,10.166271h-2.981339L11.436522,13.338465z"/></svg>
                        </a>
                    </div>
                </div>
                <!-- end: share buttons -->

                






<!-- start: language tabs-->
<div class="flex overflow-x-auto overflow-y-hidden border-b border-gray-200 whitespace-nowrap ">

    <a
            href="communities.html"
            class="inline-flex items-center h-10 px-2 py-2 -mb-px text-center text-blue-600 border-blue-500 bg-transparent border-b-2 sm:px-4 -px-1 focus:outline-none">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mx-1 sm:w-6 sm:h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
    </svg>

    <span class="mx-1 text-sm sm:text-base">
                All languages <span class="text-xs sm:text-sm">(125 files)</span>
            </span>
    </a>

    <!-- start: language tab -->
    
    <a
            href="communities_Golang.html"
            class="inline-flex items-center h-10 px-2 py-2 -mb-px text-center bg-transparent border-b-2 text-gray-700   border-transparent sm:px-4 -px-1 hover:border-gray-400">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mx-1 sm:w-6 sm:h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
        </svg>

        <span class="mx-1 text-sm sm:text-base">
                    Golang <span class="text-xs sm:text-sm">(125 files)</span>
                </span>
    </a>
    
    <!-- end: language tab -->

</div>
<!-- end: language tabs-->


<div class="bg-white p-4 rounded shadow mb-8 mt-8">
    <h2 class="leading-none text-3xl font-bold text-gray-900 pb-2">Communities - Help</h2>
    <p class="text-gray-600">Graph communities detected via label propagation on the dependency graph.</p>

    <div class="mt-4 mb-4">
        <img src="images/help-community.png" alt="Diagram showing how software classes form communities. A network of classes is grouped into a community when some classes interact more with each other. Communities are then evaluated: if most classes share the same namespace, it is a high-purity community; if classes mix different namespaces, it is a low-purity community."
             loading="lazy"
             decoding="async"
             class="mx-auto"
             width="996"
             height="400"
        />
    </div>
</div>



<!-- Metrics -->
<div class="grid grid-cols-5 gap-4 mb-8">
    <div class="bg-white p-4 rounded shadow">
        <div class="leading-none text-3xl font-bold text-gray-900 pb-2">35</div>
        <div class="text-base font-normal text-gray-500 ">Number of detected communities (modules)</div>
        <div class="mt-2 text-xs text-gray-500">communities_count</div>
    </div>
    <div class="bg-white p-4 rounded shadow">
        <div class="leading-none text-3xl font-bold text-gray-900 pb-2">0.20</div>
        <div class="text-base font-normal text-gray-500">Community separation quality (0â€“1)</div>
        <div class="mt-2 text-xs text-gray-500">modularity_q</div>
    </div>
    <div class="bg-white p-4 rounded shadow">
        <div class="leading-none text-3xl font-bold text-gray-900 pb-2">4.8</div>
        <div class="text-base font-normal text-gray-500">Average number of nodes per community</div>
        <div class="mt-2 text-xs text-gray-500">avg_size</div>
    </div>
    <div class="bg-white p-4 rounded shadow">
        <div class="leading-none text-3xl font-bold text-gray-900 pb-2">21</div>
        <div class="text-base font-normal text-gray-500">Largest community size (nodes)</div>
        <div class="mt-2 text-xs text-gray-500">max_size</div>
    </div>
    <div class="bg-white p-4 rounded shadow">
        <div class="leading-none text-3xl font-bold text-gray-900 pb-2">0.029</div>
        <div class="text-base font-normal text-gray-500">Edge density of the dependency graph</div>
        <div class="mt-2 text-xs text-gray-500">graph_density</div>
    </div>
</div>


<!-- Graph view: one circle per community, sized by number of nodes, colored by dominant namespace -->
<div class="bg-white p-4 rounded shadow mb-8">


    <div class="f">
        <h2 class="leading-none text-3xl font-bold text-gray-900 pb-2">Graph view</h2>
        <div class="text-sm text-gray-600 flex items-center gap-4  rounded mb-2">
            <label class="flex items-center gap-1"><input id="only-critical-comms" type="checkbox" class="mr-1"> Only
                critical</label>
            <label class="flex items-center gap-1">Search <input id="graph-search" type="text"
                                                                 placeholder="namespace or name"
                                                                 class="border px-1 py-0.5 rounded w-44"></label>
        </div>
    </div>

    <!-- Optimized: compact JSON payloads instead of thousands of hidden DOM nodes -->
    <script id="data-communities" type="application/json">[
        
        {"id":"github\u002Ecom/charmbracelet/bubbles/table",
         "size":14,
         "purity":0.071429,
         "level":2,
         "betweenness":0.149122,
         "coupling":0.328571,
         "topNamespaces":["community\u005Faggregator"],
         "topClasses":["golang\u005Frunner","component\u005Fclass\u005Ftable","community\u005Faggregator","github\u002Ecom/charmbracelet/lipgloss","component\u005Ffile\u005Ftable"]
        },
        
        {"id":"lang\u005Fadapter",
         "size":19,
         "purity":0.052632,
         "level":2,
         "betweenness":0.231173,
         "coupling":0.242105,
         "topNamespaces":["github\u002Ecom/smacker/go/tree"],
         "topClasses":["rust\u005Frunner","runner","tree\u005Fsitter\u005Frust","workdir\u005Ftest","github\u002Ecom/smacker/go/tree"]
        },
        
        {"id":"github\u002Ecom/charmbracelet/bubbles/textinput",
         "size":2,
         "purity":0.500000,
         "level":0,
         "betweenness":0.000594,
         "coupling":0.800000,
         "topNamespaces":["github\u002Ecom/charmbracelet/bubbles/textinput"],
         "topClasses":["component\u005Fsearch","github\u002Ecom/charmbracelet/bubbles/textinput"]
        },
        
        {"id":"reflect",
         "size":5,
         "purity":0.200000,
         "level":2,
         "betweenness":0.014991,
         "coupling":0.312500,
         "topNamespaces":["google\u002Egolang\u002Eorg"],
         "topClasses":["bus\u005Ffactor\u005Ftest","NodeType\u002Epb","cleaner","reflect","google\u002Egolang\u002Eorg"]
        },
        
        {"id":"io/ioutil",
         "size":3,
         "purity":0.333333,
         "level":2,
         "betweenness":0.001759,
         "coupling":0.583333,
         "topNamespaces":["io/ioutil"],
         "topClasses":["configuration\u005Floader\u005Ftest","io/ioutil","mardown\u005Freport\u005Fgenerator"]
        },
        
        {"id":"screen\u005Fsummary",
         "size":2,
         "purity":0.500000,
         "level":0,
         "betweenness":0.000000,
         "coupling":0.800000,
         "topNamespaces":["github\u002Ecom/charmbracelet/glamour"],
         "topClasses":["github\u002Ecom/charmbracelet/glamour","screen\u005Fsummary"]
        },
        
        {"id":"github\u002Ecom/evandro/slv/go",
         "size":2,
         "purity":0.500000,
         "level":0,
         "betweenness":0.000000,
         "coupling":0.000000,
         "topNamespaces":["github\u002Ecom/evandro/slv/go"],
         "topClasses":["github\u002Ecom/evandro/slv/go","component\u005Fbarchart"]
        },
        
        {"id":"github\u002Ecom/yargevad/filepathx",
         "size":2,
         "purity":0.500000,
         "level":1,
         "betweenness":0.002083,
         "coupling":0.600000,
         "topNamespaces":["github\u002Ecom/yargevad/filepathx"],
         "topClasses":["github\u002Ecom/yargevad/filepathx","finder"]
        },
        
        {"id":"github\u002Ecom/inancgumus/screen",
         "size":2,
         "purity":0.500000,
         "level":0,
         "betweenness":0.004625,
         "coupling":0.875000,
         "topNamespaces":["github\u002Ecom/inancgumus/screen"],
         "topClasses":["github\u002Ecom/inancgumus/screen","analyze\u005Fcommand"]
        },
        
        {"id":"github\u002Ecom/pterm/pterm",
         "size":5,
         "purity":0.200000,
         "level":3,
         "betweenness":0.004805,
         "coupling":0.222222,
         "topNamespaces":["clean\u005Fcommand"],
         "topClasses":["clean\u005Fcommand","init\u005Fconfiguration\u005Fcommand","engine","github\u002Ecom/pterm/pterm","ruleset\u005Flist\u005Fcommand"]
        },
        
        {"id":"unicode/utf\u0038",
         "size":2,
         "purity":0.500000,
         "level":0,
         "betweenness":0.000875,
         "coupling":0.800000,
         "topNamespaces":["unicode/utf\u0038"],
         "topClasses":["unicode/utf\u0038","tree\u005Fsitter\u005Fphp"]
        },
        
        {"id":"screen\u005Ffile\u005Fselection",
         "size":2,
         "purity":0.500000,
         "level":0,
         "betweenness":0.001545,
         "coupling":0.750000,
         "topNamespaces":["screen\u005Ffile\u005Fselection"],
         "topClasses":["screen\u005Ffile\u005Fselection","github\u002Ecom/charmbracelet/bubbles/filepicker"]
        },
        
        {"id":"github\u002Ecom/stretchr/testify/assert",
         "size":21,
         "purity":0.047619,
         "level":2,
         "betweenness":0.034554,
         "coupling":0.285714,
         "topNamespaces":["golang\u005Foperators\u005Ftest"],
         "topClasses":["reporters\u005Ffactory\u005Ftest","php\u005Fself\u005Fstatic","loc\u005Fvisitor\u005Ftest","aggregator\u005Ftest","github\u002Ecom/stretchr/testify/assert"]
        },
        
        {"id":"sync/atomic",
         "size":2,
         "purity":0.500000,
         "level":0,
         "betweenness":0.005853,
         "coupling":0.888889,
         "topNamespaces":["sync/atomic"],
         "topClasses":["sync/atomic","ast\u005Fanalyzer"]
        },
        
        {"id":"github\u002Ecom/charmbracelet/bubbletea",
         "size":7,
         "purity":0.142857,
         "level":2,
         "betweenness":0.024395,
         "coupling":0.375000,
         "topNamespaces":["screen\u005Fby\u005Fprogramming"],
         "topClasses":["github\u002Ecom/charmbracelet/bubbletea","screen\u005Frisks","component","screen","screen\u005Fend"]
        },
        
        {"id":"file\u005Fhash",
         "size":3,
         "purity":0.333333,
         "level":0,
         "betweenness":0.003313,
         "coupling":0.714286,
         "topNamespaces":["encoding/hex"],
         "topClasses":["file\u005Fhash","crypto/md\u0035","encoding/hex"]
        },
        
        {"id":"rule\u005Fcoupling",
         "size":4,
         "purity":0.250000,
         "level":2,
         "betweenness":0.011158,
         "coupling":0.461538,
         "topNamespaces":["regexp"],
         "topClasses":["regexp","rule\u005Fcoupling","rule\u005Fvolume\u005Floc","rule\u005Fcyclomatic"]
        },
        
        {"id":"github\u002Ecom/elliotchance/orderedmap/v\u0032",
         "size":7,
         "purity":0.142857,
         "level":2,
         "betweenness":0.026013,
         "coupling":0.523810,
         "topNamespaces":["time"],
         "topClasses":["time","component\u005Fbarchart\u005Fcyclomatic","component\u005Fline\u005Fchart","github\u002Ecom/elliotchance/orderedmap/v\u0032","util"]
        },
        
        {"id":"github\u002Ecom/halleck\u0034\u0035/ast/metrics",
         "size":15,
         "purity":0.066667,
         "level":4,
         "betweenness":0.288431,
         "coupling":0.000000,
         "topNamespaces":["registry"],
         "topClasses":["ruleset\u005Farchitecture","registry","ruleset\u005Fvolume","node\u005Ftype\u005Fensurer","loc\u005Fvisitor"]
        },
        
        {"id":"workdir",
         "size":2,
         "purity":0.500000,
         "level":0,
         "betweenness":0.000000,
         "coupling":0.666667,
         "topNamespaces":["github\u002Ecom/google/uuid"],
         "topClasses":["github\u002Ecom/google/uuid","workdir"]
        },
        
        {"id":"open\u005Fmetrics\u005Fgenerator",
         "size":3,
         "purity":0.333333,
         "level":0,
         "betweenness":0.003831,
         "coupling":0.777778,
         "topNamespaces":["github\u002Ecom/bsm/openmetrics"],
         "topClasses":["github\u002Ecom/bsm/openmetrics","open\u005Fmetrics\u005Fgenerator","bytes"]
        },
        
        {"id":"math",
         "size":4,
         "purity":0.250000,
         "level":2,
         "betweenness":0.006298,
         "coupling":0.461538,
         "topNamespaces":["halstead\u005Fmetrics\u005Fvisitor"],
         "topClasses":["maintainability\u005Findex\u005Fvisitor","halstead\u005Fmetrics\u005Fvisitor","risk\u005Fanalyzer","math"]
        },
        
        {"id":"sort",
         "size":3,
         "purity":0.333333,
         "level":3,
         "betweenness":0.000000,
         "coupling":0.250000,
         "topNamespaces":["bus\u005Ffactor"],
         "topClasses":["graph\u005Faggregator","bus\u005Ffactor","sort"]
        },
        
        {"id":"visitor",
         "size":2,
         "purity":0.500000,
         "level":0,
         "betweenness":0.000000,
         "coupling":0.800000,
         "topNamespaces":["visitor"],
         "topClasses":["visitor","github\u002Ecom/golang/protobuf/proto"]
        },
        
        {"id":"markdown\u005Freport\u005Fgenerator",
         "size":5,
         "purity":0.200000,
         "level":2,
         "betweenness":0.005467,
         "coupling":0.526316,
         "topNamespaces":["github\u002Ecom/flosch/pongo\u0032/v\u0035"],
         "topClasses":["github\u002Ecom/sirupsen/logrus","github\u002Ecom/flosch/pongo\u0032/v\u0035","markdown\u005Freport\u005Fgenerator","embed","html\u005Freport\u005Fgenerator"]
        },
        
        {"id":"screen\u005Fhome",
         "size":2,
         "purity":0.500000,
         "level":0,
         "betweenness":0.001647,
         "coupling":0.857143,
         "topNamespaces":["github\u002Ecom/muesli/termenv"],
         "topClasses":["github\u002Ecom/muesli/termenv","screen\u005Fhome"]
        },
        
        {"id":"self\u005Fupdate\u005Fcommand",
         "size":4,
         "purity":0.250000,
         "level":0,
         "betweenness":0.004085,
         "coupling":0.727273,
         "topNamespaces":["net/http"],
         "topClasses":["self\u005Fupdate\u005Fcommand","github\u002Ecom/minio/selfupdate","github\u002Ecom/jarcoal/httpmock","net/http"]
        },
        
        {"id":"version\u005Fcommand\u005Ftest",
         "size":2,
         "purity":0.500000,
         "level":1,
         "betweenness":0.002377,
         "coupling":0.428571,
         "topNamespaces":["io"],
         "topClasses":["io","version\u005Fcommand\u005Ftest"]
        },
        
        {"id":"bufio",
         "size":2,
         "purity":0.500000,
         "level":1,
         "betweenness":0.001040,
         "coupling":0.666667,
         "topNamespaces":["bufio"],
         "topClasses":["bufio","analyze\u005Fcommand\u005Ftest"]
        },
        
        {"id":"json\u005Freport\u005Fgenerator",
         "size":2,
         "purity":0.500000,
         "level":1,
         "betweenness":0.001753,
         "coupling":0.750000,
         "topNamespaces":["encoding/json"],
         "topClasses":["encoding/json","json\u005Freport\u005Fgenerator"]
        },
        
        {"id":"log",
         "size":3,
         "purity":0.333333,
         "level":0,
         "betweenness":0.000000,
         "coupling":0.714286,
         "topNamespaces":["git\u005Frepository"],
         "topClasses":["git\u005Frepository","log","os/exec"]
        },
        
        {"id":"sync",
         "size":5,
         "purity":0.200000,
         "level":2,
         "betweenness":0.006765,
         "coupling":0.470588,
         "topNamespaces":["version\u005Fcommand"],
         "topClasses":["version\u005Fcommand","runtime","sync","ast\u005Fdumper","aggregator"]
        },
        
        {"id":"github\u002Ecom/fsnotify/fsnotify",
         "size":2,
         "purity":0.500000,
         "level":1,
         "betweenness":0.001560,
         "coupling":0.625000,
         "topNamespaces":["github\u002Ecom/fsnotify/fsnotify"],
         "topClasses":["github\u002Ecom/fsnotify/fsnotify","command\u005Fwatcher"]
        },
        
        {"id":"gopkg\u002Ein\u002Eyaml",
         "size":4,
         "purity":0.250000,
         "level":2,
         "betweenness":0.020851,
         "coupling":0.307692,
         "topNamespaces":["errors"],
         "topClasses":["errors","ruleset\u005Fadd","gopkg\u002Ein\u002Eyaml","configuration\u005Floader"]
        },
        
        {"id":"math/rand",
         "size":3,
         "purity":0.333333,
         "level":0,
         "betweenness":0.000000,
         "coupling":0.500000,
         "topNamespaces":["math/rand"],
         "topClasses":["math/rand","community\u005Fdetection","slices"]
        }
        
    ]</script>
    <script id="data-comm-members" type="application/json">[
        
        {"comm":"unicode/utf\u0038","nodes":["unicode/utf\u0038","tree\u005Fsitter\u005Fphp"]}
        ,
        
        {"comm":"screen\u005Ffile\u005Fselection","nodes":["screen\u005Ffile\u005Fselection","github\u002Ecom/charmbracelet/bubbles/filepicker"]}
        ,
        
        {"comm":"github\u002Ecom/stretchr/testify/assert","nodes":["reporters\u005Ffactory\u005Ftest","php\u005Fself\u005Fstatic","loc\u005Fvisitor\u005Ftest","aggregator\u005Ftest","github\u002Ecom/stretchr/testify/assert","golang\u005Fmaintainability\u005Ftest","cyclomatic\u005Fvisitor\u005Ftest","ast\u005Fnode\u005Ftest","golang\u005Frunner\u005Ftest","requirements\u005Fevaluator\u005Ftest","styles\u005Ftest","screen\u005Fsummary\u005Ftest","php\u005Frunner\u005Ftest","golang\u005Foperators\u005Ftest","ast\u005Fanalyzer\u005Ftest","testing","python\u005Frunner\u005Ftest","util\u005Ftest","screen\u005Fhome\u005Ftest","comparator\u005Ftest","component\u005Ftable\u005Fclass"]}
        ,
        
        {"comm":"sync/atomic","nodes":["sync/atomic","ast\u005Fanalyzer"]}
        ,
        
        {"comm":"github\u002Ecom/charmbracelet/bubbletea","nodes":["github\u002Ecom/charmbracelet/bubbletea","screen\u005Frisks","component","screen","screen\u005Fend","screen\u005Fby\u005Fprogramming","screen\u005Ftable\u005Fclass"]}
        ,
        
        {"comm":"file\u005Fhash","nodes":["file\u005Fhash","crypto/md\u0035","encoding/hex"]}
        ,
        
        {"comm":"rule\u005Fcoupling","nodes":["regexp","rule\u005Fcoupling","rule\u005Fvolume\u005Floc","rule\u005Fcyclomatic"]}
        ,
        
        {"comm":"github\u002Ecom/elliotchance/orderedmap/v\u0032","nodes":["time","component\u005Fbarchart\u005Fcyclomatic","component\u005Fline\u005Fchart","github\u002Ecom/elliotchance/orderedmap/v\u0032","util","component\u005Fbarchart\u005Fmaintainability","component\u005Fbarchart\u005Floc"]}
        ,
        
        {"comm":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","nodes":["ruleset\u005Farchitecture","registry","ruleset\u005Fvolume","node\u005Ftype\u005Fensurer","loc\u005Fvisitor","cyclomatic\u005Fvisitor","ast\u005Fnode","reporter","rule","comparator","ruleset\u005Fobjectoriented","requirements\u005Fevaluator","github\u002Ecom/halleck\u0034\u0035/ast/metrics","ruleset\u005Fcomplexity","reporters\u005Ffactory"]}
        ,
        
        {"comm":"workdir","nodes":["github\u002Ecom/google/uuid","workdir"]}
        ,
        
        {"comm":"open\u005Fmetrics\u005Fgenerator","nodes":["github\u002Ecom/bsm/openmetrics","open\u005Fmetrics\u005Fgenerator","bytes"]}
        ,
        
        {"comm":"math","nodes":["maintainability\u005Findex\u005Fvisitor","halstead\u005Fmetrics\u005Fvisitor","risk\u005Fanalyzer","math"]}
        ,
        
        {"comm":"sort","nodes":["graph\u005Faggregator","bus\u005Ffactor","sort"]}
        ,
        
        {"comm":"visitor","nodes":["visitor","github\u002Ecom/golang/protobuf/proto"]}
        ,
        
        {"comm":"markdown\u005Freport\u005Fgenerator","nodes":["github\u002Ecom/sirupsen/logrus","github\u002Ecom/flosch/pongo\u0032/v\u0035","markdown\u005Freport\u005Fgenerator","embed","html\u005Freport\u005Fgenerator"]}
        ,
        
        {"comm":"screen\u005Fhome","nodes":["github\u002Ecom/muesli/termenv","screen\u005Fhome"]}
        ,
        
        {"comm":"self\u005Fupdate\u005Fcommand","nodes":["self\u005Fupdate\u005Fcommand","github\u002Ecom/minio/selfupdate","github\u002Ecom/jarcoal/httpmock","net/http"]}
        ,
        
        {"comm":"version\u005Fcommand\u005Ftest","nodes":["io","version\u005Fcommand\u005Ftest"]}
        ,
        
        {"comm":"bufio","nodes":["bufio","analyze\u005Fcommand\u005Ftest"]}
        ,
        
        {"comm":"json\u005Freport\u005Fgenerator","nodes":["encoding/json","json\u005Freport\u005Fgenerator"]}
        ,
        
        {"comm":"log","nodes":["git\u005Frepository","log","os/exec"]}
        ,
        
        {"comm":"sync","nodes":["version\u005Fcommand","runtime","sync","ast\u005Fdumper","aggregator"]}
        ,
        
        {"comm":"github\u002Ecom/fsnotify/fsnotify","nodes":["github\u002Ecom/fsnotify/fsnotify","command\u005Fwatcher"]}
        ,
        
        {"comm":"gopkg\u002Ein\u002Eyaml","nodes":["errors","ruleset\u005Fadd","gopkg\u002Ein\u002Eyaml","configuration\u005Floader"]}
        ,
        
        {"comm":"math/rand","nodes":["math/rand","community\u005Fdetection","slices"]}
        ,
        
        {"comm":"github\u002Ecom/charmbracelet/bubbles/table","nodes":["golang\u005Frunner","component\u005Fclass\u005Ftable","community\u005Faggregator","github\u002Ecom/charmbracelet/lipgloss","component\u005Ffile\u005Ftable","screen\u005Fhtml\u005Freport","github\u002Ecom/charmbracelet/bubbles/table","strconv","ruleset\u005Fshow\u005Fcommand","fmt","component\u005Fstatistics\u005Foverview","golang\u002Eorg\u002Ex","styles","rule\u005Fmaintainability"]}
        ,
        
        {"comm":"lang\u005Fadapter","nodes":["rust\u005Frunner","runner","tree\u005Fsitter\u005Frust","workdir\u005Ftest","github\u002Ecom/smacker/go/tree","os","lang\u005Fadapter","strings","configuration\u005Ftest","git\u005Frepository\u005Ftest","path/filepath","configuration","python\u005Frunner","php\u005Frunner","clean\u005Fcommand\u005Ftest","git\u005Fanalyzer","finder\u005Ftest","tree\u005Fsitter\u005Fgo","tree\u005Fsitter\u005Fpython"]}
        ,
        
        {"comm":"github\u002Ecom/charmbracelet/bubbles/textinput","nodes":["component\u005Fsearch","github\u002Ecom/charmbracelet/bubbles/textinput"]}
        ,
        
        {"comm":"reflect","nodes":["bus\u005Ffactor\u005Ftest","NodeType\u002Epb","cleaner","reflect","google\u002Egolang\u002Eorg"]}
        ,
        
        {"comm":"io/ioutil","nodes":["configuration\u005Floader\u005Ftest","io/ioutil","mardown\u005Freport\u005Fgenerator"]}
        ,
        
        {"comm":"screen\u005Fsummary","nodes":["github\u002Ecom/charmbracelet/glamour","screen\u005Fsummary"]}
        ,
        
        {"comm":"github\u002Ecom/evandro/slv/go","nodes":["github\u002Ecom/evandro/slv/go","component\u005Fbarchart"]}
        ,
        
        {"comm":"github\u002Ecom/yargevad/filepathx","nodes":["github\u002Ecom/yargevad/filepathx","finder"]}
        ,
        
        {"comm":"github\u002Ecom/inancgumus/screen","nodes":["github\u002Ecom/inancgumus/screen","analyze\u005Fcommand"]}
        ,
        
        {"comm":"github\u002Ecom/pterm/pterm","nodes":["clean\u005Fcommand","init\u005Fconfiguration\u005Fcommand","engine","github\u002Ecom/pterm/pterm","ruleset\u005Flist\u005Fcommand"]}
        
        
    ]</script>
    <script id="data-graph" type="application/json">[
        
        {"id":"golang\u005Frunner",
         "namespace":"golang\u005Frunner",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","golang\u002Eorg\u002Ex","github\u002Ecom/smacker/go/tree","fmt","strings","github\u002Ecom/pterm/pterm","os"]}
        ,
        
        {"id":"time",
         "namespace":"time",
         "edges":[]}
        ,
        
        {"id":"component\u005Fsearch",
         "namespace":"component\u005Fsearch",
         "edges":["regexp","github\u002Ecom/charmbracelet/bubbles/textinput","github\u002Ecom/charmbracelet/bubbletea","github\u002Ecom/charmbracelet/lipgloss","fmt"]}
        ,
        
        {"id":"git\u005Frepository",
         "namespace":"git\u005Frepository",
         "edges":["strconv","strings","fmt","log","os","os/exec","path/filepath"]}
        ,
        
        {"id":"reporters\u005Ffactory\u005Ftest",
         "namespace":"reporters\u005Ffactory\u005Ftest",
         "edges":["testing","github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/stretchr/testify/assert"]}
        ,
        
        {"id":"php\u005Fself\u005Fstatic",
         "namespace":"php\u005Fself\u005Fstatic",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/stretchr/testify/assert","strings","testing"]}
        ,
        
        {"id":"ruleset\u005Farchitecture",
         "namespace":"ruleset\u005Farchitecture",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"registry",
         "namespace":"registry",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"loc\u005Fvisitor\u005Ftest",
         "namespace":"loc\u005Fvisitor\u005Ftest",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","testing","github\u002Ecom/stretchr/testify/assert"]}
        ,
        
        {"id":"bus\u005Ffactor\u005Ftest",
         "namespace":"bus\u005Ffactor\u005Ftest",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","reflect","testing"]}
        ,
        
        {"id":"ruleset\u005Fvolume",
         "namespace":"ruleset\u005Fvolume",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"component\u005Fclass\u005Ftable",
         "namespace":"component\u005Fclass\u005Ftable",
         "edges":["strings","github\u002Ecom/charmbracelet/bubbles/table","github\u002Ecom/charmbracelet/bubbletea","github\u002Ecom/charmbracelet/lipgloss","fmt","strconv","sort","github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"clean\u005Fcommand",
         "namespace":"clean\u005Fcommand",
         "edges":["github\u002Ecom/pterm/pterm","github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"github\u002Ecom/google/uuid",
         "namespace":"github\u002Ecom/google/uuid",
         "edges":[]}
        ,
        
        {"id":"sync/atomic",
         "namespace":"sync/atomic",
         "edges":[]}
        ,
        
        {"id":"aggregator\u005Ftest",
         "namespace":"aggregator\u005Ftest",
         "edges":["github\u002Ecom/stretchr/testify/assert","google\u002Egolang\u002Eorg","testing","github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"node\u005Ftype\u005Fensurer",
         "namespace":"node\u005Ftype\u005Fensurer",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"version\u005Fcommand",
         "namespace":"version\u005Fcommand",
         "edges":["fmt","runtime","github\u002Ecom/pterm/pterm"]}
        ,
        
        {"id":"runtime",
         "namespace":"runtime",
         "edges":[]}
        ,
        
        {"id":"configuration\u005Floader\u005Ftest",
         "namespace":"configuration\u005Floader\u005Ftest",
         "edges":["io/ioutil","os","testing","github\u002Ecom/stretchr/testify/assert"]}
        ,
        
        {"id":"unicode/utf\u0038",
         "namespace":"unicode/utf\u0038",
         "edges":[]}
        ,
        
        {"id":"community\u005Faggregator",
         "namespace":"community\u005Faggregator",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","fmt"]}
        ,
        
        {"id":"github\u002Ecom/fsnotify/fsnotify",
         "namespace":"github\u002Ecom/fsnotify/fsnotify",
         "edges":[]}
        ,
        
        {"id":"component\u005Fbarchart\u005Fcyclomatic",
         "namespace":"component\u005Fbarchart\u005Fcyclomatic",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/elliotchance/orderedmap/v\u0032"]}
        ,
        
        {"id":"github\u002Ecom/stretchr/testify/assert",
         "namespace":"github\u002Ecom/stretchr/testify/assert",
         "edges":[]}
        ,
        
        {"id":"io/ioutil",
         "namespace":"io/ioutil",
         "edges":[]}
        ,
        
        {"id":"component\u005Fline\u005Fchart",
         "namespace":"component\u005Fline\u005Fchart",
         "edges":["time","github\u002Ecom/elliotchance/orderedmap/v\u0032","github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"golang\u005Fmaintainability\u005Ftest",
         "namespace":"golang\u005Fmaintainability\u005Ftest",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/stretchr/testify/assert","testing"]}
        ,
        
        {"id":"github\u002Ecom/bsm/openmetrics",
         "namespace":"github\u002Ecom/bsm/openmetrics",
         "edges":[]}
        ,
        
        {"id":"github\u002Ecom/charmbracelet/bubbletea",
         "namespace":"github\u002Ecom/charmbracelet/bubbletea",
         "edges":[]}
        ,
        
        {"id":"github\u002Ecom/charmbracelet/lipgloss",
         "namespace":"github\u002Ecom/charmbracelet/lipgloss",
         "edges":[]}
        ,
        
        {"id":"errors",
         "namespace":"errors",
         "edges":[]}
        ,
        
        {"id":"math/rand",
         "namespace":"math/rand",
         "edges":[]}
        ,
        
        {"id":"maintainability\u005Findex\u005Fvisitor",
         "namespace":"maintainability\u005Findex\u005Fvisitor",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","testing","math"]}
        ,
        
        {"id":"graph\u005Faggregator",
         "namespace":"graph\u005Faggregator",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","sort"]}
        ,
        
        {"id":"rust\u005Frunner",
         "namespace":"rust\u005Frunner",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/pterm/pterm","github\u002Ecom/smacker/go/tree","os"]}
        ,
        
        {"id":"github\u002Ecom/charmbracelet/glamour",
         "namespace":"github\u002Ecom/charmbracelet/glamour",
         "edges":[]}
        ,
        
        {"id":"cyclomatic\u005Fvisitor\u005Ftest",
         "namespace":"cyclomatic\u005Fvisitor\u005Ftest",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/stretchr/testify/assert","testing"]}
        ,
        
        {"id":"loc\u005Fvisitor",
         "namespace":"loc\u005Fvisitor",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"ast\u005Fnode\u005Ftest",
         "namespace":"ast\u005Fnode\u005Ftest",
         "edges":["testing","github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"screen\u005Ffile\u005Fselection",
         "namespace":"screen\u005Ffile\u005Fselection",
         "edges":["github\u002Ecom/charmbracelet/bubbles/filepicker","github\u002Ecom/charmbracelet/bubbletea","errors","time"]}
        ,
        
        {"id":"community\u005Fdetection",
         "namespace":"community\u005Fdetection",
         "edges":["slices","github\u002Ecom/halleck\u0034\u0035/ast/metrics","math","math/rand"]}
        ,
        
        {"id":"NodeType\u002Epb",
         "namespace":"NodeType\u002Epb",
         "edges":["sync","google\u002Egolang\u002Eorg","reflect"]}
        ,
        
        {"id":"screen\u005Frisks",
         "namespace":"screen\u005Frisks",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/charmbracelet/bubbletea"]}
        ,
        
        {"id":"init\u005Fconfiguration\u005Fcommand",
         "namespace":"init\u005Fconfiguration\u005Fcommand",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/pterm/pterm"]}
        ,
        
        {"id":"golang\u005Frunner\u005Ftest",
         "namespace":"golang\u005Frunner\u005Ftest",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","testing"]}
        ,
        
        {"id":"file\u005Fhash",
         "namespace":"file\u005Fhash",
         "edges":["errors","io","os","google\u002Egolang\u002Eorg","github\u002Ecom/halleck\u0034\u0035/ast/metrics","crypto/md\u0035","encoding/hex"]}
        ,
        
        {"id":"runner",
         "namespace":"runner",
         "edges":["google\u002Egolang\u002Eorg","github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/smacker/go/tree","fmt","os","path/filepath"]}
        ,
        
        {"id":"cyclomatic\u005Fvisitor",
         "namespace":"cyclomatic\u005Fvisitor",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"tree\u005Fsitter\u005Frust",
         "namespace":"tree\u005Fsitter\u005Frust",
         "edges":["github\u002Ecom/smacker/go/tree","path/filepath","strings","github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"ruleset\u005Fadd",
         "namespace":"ruleset\u005Fadd",
         "edges":["fmt","github\u002Ecom/halleck\u0034\u0035/ast/metrics","os","gopkg\u002Ein\u002Eyaml","errors"]}
        ,
        
        {"id":"visitor",
         "namespace":"visitor",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/golang/protobuf/proto","path/filepath","strings","github\u002Ecom/smacker/go/tree"]}
        ,
        
        {"id":"github\u002Ecom/sirupsen/logrus",
         "namespace":"github\u002Ecom/sirupsen/logrus",
         "edges":[]}
        ,
        
        {"id":"sync",
         "namespace":"sync",
         "edges":[]}
        ,
        
        {"id":"github\u002Ecom/muesli/termenv",
         "namespace":"github\u002Ecom/muesli/termenv",
         "edges":[]}
        ,
        
        {"id":"halstead\u005Fmetrics\u005Fvisitor",
         "namespace":"halstead\u005Fmetrics\u005Fvisitor",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","google\u002Egolang\u002Eorg","testing","math"]}
        ,
        
        {"id":"component\u005Ffile\u005Ftable",
         "namespace":"component\u005Ffile\u005Ftable",
         "edges":["github\u002Ecom/charmbracelet/lipgloss","github\u002Ecom/halleck\u0034\u0035/ast/metrics","sort","strconv","github\u002Ecom/charmbracelet/bubbles/table","github\u002Ecom/charmbracelet/bubbletea"]}
        ,
        
        {"id":"workdir\u005Ftest",
         "namespace":"workdir\u005Ftest",
         "edges":["os","strings","testing"]}
        ,
        
        {"id":"requirements\u005Fevaluator\u005Ftest",
         "namespace":"requirements\u005Fevaluator\u005Ftest",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","fmt","testing","github\u002Ecom/stretchr/testify/assert"]}
        ,
        
        {"id":"component",
         "namespace":"component",
         "edges":["github\u002Ecom/charmbracelet/bubbletea"]}
        ,
        
        {"id":"self\u005Fupdate\u005Fcommand",
         "namespace":"self\u005Fupdate\u005Fcommand",
         "edges":["strings","os","github\u002Ecom/jarcoal/httpmock","fmt","github\u002Ecom/minio/selfupdate","io","testing","github\u002Ecom/stretchr/testify/assert","encoding/json","net/http","runtime"]}
        ,
        
        {"id":"screen\u005Fhtml\u005Freport",
         "namespace":"screen\u005Fhtml\u005Freport",
         "edges":["github\u002Ecom/charmbracelet/lipgloss","fmt","github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/charmbracelet/bubbletea"]}
        ,
        
        {"id":"slices",
         "namespace":"slices",
         "edges":[]}
        ,
        
        {"id":"github\u002Ecom/charmbracelet/bubbles/table",
         "namespace":"github\u002Ecom/charmbracelet/bubbles/table",
         "edges":[]}
        ,
        
        {"id":"github\u002Ecom/elliotchance/orderedmap/v\u0032",
         "namespace":"github\u002Ecom/elliotchance/orderedmap/v\u0032",
         "edges":[]}
        ,
        
        {"id":"io",
         "namespace":"io",
         "edges":[]}
        ,
        
        {"id":"crypto/md\u0035",
         "namespace":"crypto/md\u0035",
         "edges":[]}
        ,
        
        {"id":"github\u002Ecom/yargevad/filepathx",
         "namespace":"github\u002Ecom/yargevad/filepathx",
         "edges":[]}
        ,
        
        {"id":"screen",
         "namespace":"screen",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/charmbracelet/bubbletea"]}
        ,
        
        {"id":"ast\u005Fdumper",
         "namespace":"ast\u005Fdumper",
         "edges":["fmt","github\u002Ecom/halleck\u0034\u0035/ast/metrics","os","runtime","sync","github\u002Ecom/pterm/pterm"]}
        ,
        
        {"id":"screen\u005Fend",
         "namespace":"screen\u005Fend",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","fmt","github\u002Ecom/charmbracelet/bubbletea"]}
        ,
        
        {"id":"github\u002Ecom/smacker/go/tree",
         "namespace":"github\u002Ecom/smacker/go/tree",
         "edges":[]}
        ,
        
        {"id":"github\u002Ecom/evandro/slv/go",
         "namespace":"github\u002Ecom/evandro/slv/go",
         "edges":[]}
        ,
        
        {"id":"ast\u005Fnode",
         "namespace":"ast\u005Fnode",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"styles\u005Ftest",
         "namespace":"styles\u005Ftest",
         "edges":["testing"]}
        ,
        
        {"id":"screen\u005Fsummary\u005Ftest",
         "namespace":"screen\u005Fsummary\u005Ftest",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/stretchr/testify/assert","testing"]}
        ,
        
        {"id":"github\u002Ecom/minio/selfupdate",
         "namespace":"github\u002Ecom/minio/selfupdate",
         "edges":[]}
        ,
        
        {"id":"php\u005Frunner\u005Ftest",
         "namespace":"php\u005Frunner\u005Ftest",
         "edges":["testing","github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/stretchr/testify/assert","fmt"]}
        ,
        
        {"id":"engine",
         "namespace":"engine",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/pterm/pterm"]}
        ,
        
        {"id":"strconv",
         "namespace":"strconv",
         "edges":[]}
        ,
        
        {"id":"github\u002Ecom/inancgumus/screen",
         "namespace":"github\u002Ecom/inancgumus/screen",
         "edges":[]}
        ,
        
        {"id":"cleaner",
         "namespace":"cleaner",
         "edges":["reflect","errors","math"]}
        ,
        
        {"id":"reporter",
         "namespace":"reporter",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"github\u002Ecom/charmbracelet/bubbles/textinput",
         "namespace":"github\u002Ecom/charmbracelet/bubbles/textinput",
         "edges":[]}
        ,
        
        {"id":"analyze\u005Fcommand",
         "namespace":"analyze\u005Fcommand",
         "edges":["github\u002Ecom/inancgumus/screen","bufio","github\u002Ecom/pterm/pterm","os","github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/sirupsen/logrus","errors","github\u002Ecom/fsnotify/fsnotify"]}
        ,
        
        {"id":"finder",
         "namespace":"finder",
         "edges":["github\u002Ecom/yargevad/filepathx","regexp","strings","github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"github\u002Ecom/charmbracelet/bubbles/filepicker",
         "namespace":"github\u002Ecom/charmbracelet/bubbles/filepicker",
         "edges":[]}
        ,
        
        {"id":"tree\u005Fsitter\u005Fphp",
         "namespace":"tree\u005Fsitter\u005Fphp",
         "edges":["strings","unicode/utf\u0038","github\u002Ecom/smacker/go/tree","github\u002Ecom/halleck\u0034\u0035/ast/metrics","regexp"]}
        ,
        
        {"id":"rule",
         "namespace":"rule",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"os",
         "namespace":"os",
         "edges":[]}
        ,
        
        {"id":"regexp",
         "namespace":"regexp",
         "edges":[]}
        ,
        
        {"id":"risk\u005Fanalyzer",
         "namespace":"risk\u005Fanalyzer",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","math"]}
        ,
        
        {"id":"bufio",
         "namespace":"bufio",
         "edges":[]}
        ,
        
        {"id":"golang\u005Foperators\u005Ftest",
         "namespace":"golang\u005Foperators\u005Ftest",
         "edges":["testing","github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"version\u005Fcommand\u005Ftest",
         "namespace":"version\u005Fcommand\u005Ftest",
         "edges":["testing","github\u002Ecom/stretchr/testify/assert","io","os"]}
        ,
        
        {"id":"gopkg\u002Ein\u002Eyaml",
         "namespace":"gopkg\u002Ein\u002Eyaml",
         "edges":[]}
        ,
        
        {"id":"ruleset\u005Fshow\u005Fcommand",
         "namespace":"ruleset\u005Fshow\u005Fcommand",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/pterm/pterm","errors","fmt","github\u002Ecom/charmbracelet/lipgloss"]}
        ,
        
        {"id":"reflect",
         "namespace":"reflect",
         "edges":[]}
        ,
        
        {"id":"util",
         "namespace":"util",
         "edges":["github\u002Ecom/elliotchance/orderedmap/v\u0032","path/filepath","strings","google\u002Egolang\u002Eorg","os","regexp","fmt","time","github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"ast\u005Fanalyzer\u005Ftest",
         "namespace":"ast\u005Fanalyzer\u005Ftest",
         "edges":["testing","github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/stretchr/testify/assert","os"]}
        ,
        
        {"id":"github\u002Ecom/golang/protobuf/proto",
         "namespace":"github\u002Ecom/golang/protobuf/proto",
         "edges":[]}
        ,
        
        {"id":"google\u002Egolang\u002Eorg",
         "namespace":"google\u002Egolang\u002Eorg",
         "edges":[]}
        ,
        
        {"id":"bus\u005Ffactor",
         "namespace":"bus\u005Ffactor",
         "edges":["sort","github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"lang\u005Fadapter",
         "namespace":"lang\u005Fadapter",
         "edges":["github\u002Ecom/smacker/go/tree"]}
        ,
        
        {"id":"strings",
         "namespace":"strings",
         "edges":[]}
        ,
        
        {"id":"github\u002Ecom/flosch/pongo\u0032/v\u0035",
         "namespace":"github\u002Ecom/flosch/pongo\u0032/v\u0035",
         "edges":[]}
        ,
        
        {"id":"screen\u005Fby\u005Fprogramming",
         "namespace":"screen\u005Fby\u005Fprogramming",
         "edges":["testing","fmt","github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/charmbracelet/bubbletea"]}
        ,
        
        {"id":"screen\u005Fsummary",
         "namespace":"screen\u005Fsummary",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","strconv","github\u002Ecom/charmbracelet/bubbletea","github\u002Ecom/charmbracelet/glamour","fmt"]}
        ,
        
        {"id":"sort",
         "namespace":"sort",
         "edges":[]}
        ,
        
        {"id":"component\u005Fbarchart",
         "namespace":"component\u005Fbarchart",
         "edges":["github\u002Ecom/evandro/slv/go"]}
        ,
        
        {"id":"component\u005Fbarchart\u005Fmaintainability",
         "namespace":"component\u005Fbarchart\u005Fmaintainability",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/elliotchance/orderedmap/v\u0032"]}
        ,
        
        {"id":"configuration\u005Ftest",
         "namespace":"configuration\u005Ftest",
         "edges":["os","testing"]}
        ,
        
        {"id":"ast\u005Fanalyzer",
         "namespace":"ast\u005Fanalyzer",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/pterm/pterm","strconv","github\u002Ecom/yargevad/filepathx","google\u002Egolang\u002Eorg","runtime","io/ioutil","sync/atomic","sync"]}
        ,
        
        {"id":"testing",
         "namespace":"testing",
         "edges":[]}
        ,
        
        {"id":"github\u002Ecom/pterm/pterm",
         "namespace":"github\u002Ecom/pterm/pterm",
         "edges":[]}
        ,
        
        {"id":"markdown\u005Freport\u005Fgenerator",
         "namespace":"markdown\u005Freport\u005Fgenerator",
         "edges":["embed","github\u002Ecom/halleck\u0034\u0035/ast/metrics","fmt","os","sort","github\u002Ecom/sirupsen/logrus","github\u002Ecom/flosch/pongo\u0032/v\u0035"]}
        ,
        
        {"id":"log",
         "namespace":"log",
         "edges":[]}
        ,
        
        {"id":"comparator",
         "namespace":"comparator",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"ruleset\u005Fobjectoriented",
         "namespace":"ruleset\u005Fobjectoriented",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"python\u005Frunner\u005Ftest",
         "namespace":"python\u005Frunner\u005Ftest",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","testing"]}
        ,
        
        {"id":"git\u005Frepository\u005Ftest",
         "namespace":"git\u005Frepository\u005Ftest",
         "edges":["io/ioutil","os","path/filepath","strings","testing"]}
        ,
        
        {"id":"path/filepath",
         "namespace":"path/filepath",
         "edges":[]}
        ,
        
        {"id":"fmt",
         "namespace":"fmt",
         "edges":[]}
        ,
        
        {"id":"embed",
         "namespace":"embed",
         "edges":[]}
        ,
        
        {"id":"os/exec",
         "namespace":"os/exec",
         "edges":[]}
        ,
        
        {"id":"configuration",
         "namespace":"configuration",
         "edges":["path/filepath","github\u002Ecom/halleck\u0034\u0035/ast/metrics","os"]}
        ,
        
        {"id":"python\u005Frunner",
         "namespace":"python\u005Frunner",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/pterm/pterm","github\u002Ecom/smacker/go/tree","os"]}
        ,
        
        {"id":"configuration\u005Floader",
         "namespace":"configuration\u005Floader",
         "edges":["errors","os","gopkg\u002Ein\u002Eyaml"]}
        ,
        
        {"id":"encoding/json",
         "namespace":"encoding/json",
         "edges":[]}
        ,
        
        {"id":"php\u005Frunner",
         "namespace":"php\u005Frunner",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/pterm/pterm","github\u002Ecom/smacker/go/tree","os","strings"]}
        ,
        
        {"id":"requirements\u005Fevaluator",
         "namespace":"requirements\u005Fevaluator",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"screen\u005Ftable\u005Fclass",
         "namespace":"screen\u005Ftable\u005Fclass",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/charmbracelet/bubbletea","testing"]}
        ,
        
        {"id":"encoding/hex",
         "namespace":"encoding/hex",
         "edges":[]}
        ,
        
        {"id":"clean\u005Fcommand\u005Ftest",
         "namespace":"clean\u005Fcommand\u005Ftest",
         "edges":["os","testing","github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"util\u005Ftest",
         "namespace":"util\u005Ftest",
         "edges":["testing","github\u002Ecom/stretchr/testify/assert"]}
        ,
        
        {"id":"component\u005Fstatistics\u005Foverview",
         "namespace":"component\u005Fstatistics\u005Foverview",
         "edges":["fmt","github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/charmbracelet/bubbletea","github\u002Ecom/charmbracelet/lipgloss"]}
        ,
        
        {"id":"rule\u005Fcoupling",
         "namespace":"rule\u005Fcoupling",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","fmt","regexp"]}
        ,
        
        {"id":"rule\u005Fvolume\u005Floc",
         "namespace":"rule\u005Fvolume\u005Floc",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","fmt","regexp"]}
        ,
        
        {"id":"github\u002Ecom/jarcoal/httpmock",
         "namespace":"github\u002Ecom/jarcoal/httpmock",
         "edges":[]}
        ,
        
        {"id":"aggregator",
         "namespace":"aggregator",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","math","runtime","sync"]}
        ,
        
        {"id":"github\u002Ecom/halleck\u0034\u0035/ast/metrics",
         "namespace":"github\u002Ecom/halleck\u0034\u0035/ast/metrics",
         "edges":[]}
        ,
        
        {"id":"golang\u002Eorg\u002Ex",
         "namespace":"golang\u002Eorg\u002Ex",
         "edges":[]}
        ,
        
        {"id":"git\u005Fanalyzer",
         "namespace":"git\u005Fanalyzer",
         "edges":["path/filepath","strings","github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/sirupsen/logrus"]}
        ,
        
        {"id":"finder\u005Ftest",
         "namespace":"finder\u005Ftest",
         "edges":["strings","testing","github\u002Ecom/halleck\u0034\u0035/ast/metrics","os"]}
        ,
        
        {"id":"styles",
         "namespace":"styles",
         "edges":["github\u002Ecom/charmbracelet/lipgloss","github\u002Ecom/halleck\u0034\u0035/ast/metrics","golang\u002Eorg\u002Ex","fmt","math","strconv"]}
        ,
        
        {"id":"ruleset\u005Fcomplexity",
         "namespace":"ruleset\u005Fcomplexity",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"open\u005Fmetrics\u005Fgenerator",
         "namespace":"open\u005Fmetrics\u005Fgenerator",
         "edges":["google\u002Egolang\u002Eorg","time","bytes","github\u002Ecom/bsm/openmetrics","io","github\u002Ecom/halleck\u0034\u0035/ast/metrics","os","github\u002Ecom/stretchr/testify/assert","testing"]}
        ,
        
        {"id":"math",
         "namespace":"math",
         "edges":[]}
        ,
        
        {"id":"reporters\u005Ffactory",
         "namespace":"reporters\u005Ffactory",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        ,
        
        {"id":"rule\u005Fcyclomatic",
         "namespace":"rule\u005Fcyclomatic",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","regexp","fmt"]}
        ,
        
        {"id":"component\u005Fbarchart\u005Floc",
         "namespace":"component\u005Fbarchart\u005Floc",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/elliotchance/orderedmap/v\u0032"]}
        ,
        
        {"id":"mardown\u005Freport\u005Fgenerator",
         "namespace":"mardown\u005Freport\u005Fgenerator",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/stretchr/testify/assert","io/ioutil","os","testing"]}
        ,
        
        {"id":"tree\u005Fsitter\u005Fgo",
         "namespace":"tree\u005Fsitter\u005Fgo",
         "edges":["github\u002Ecom/smacker/go/tree","github\u002Ecom/halleck\u0034\u0035/ast/metrics","path/filepath","strings"]}
        ,
        
        {"id":"workdir",
         "namespace":"workdir",
         "edges":["os","path/filepath","github\u002Ecom/google/uuid"]}
        ,
        
        {"id":"ruleset\u005Flist\u005Fcommand",
         "namespace":"ruleset\u005Flist\u005Fcommand",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/pterm/pterm"]}
        ,
        
        {"id":"screen\u005Fhome\u005Ftest",
         "namespace":"screen\u005Fhome\u005Ftest",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/stretchr/testify/assert","testing","github\u002Ecom/charmbracelet/bubbletea"]}
        ,
        
        {"id":"command\u005Fwatcher",
         "namespace":"command\u005Fwatcher",
         "edges":["github\u002Ecom/fsnotify/fsnotify","github\u002Ecom/sirupsen/logrus","fmt","os","github\u002Ecom/halleck\u0034\u0035/ast/metrics","path/filepath"]}
        ,
        
        {"id":"comparator\u005Ftest",
         "namespace":"comparator\u005Ftest",
         "edges":["testing"]}
        ,
        
        {"id":"screen\u005Fhome",
         "namespace":"screen\u005Fhome",
         "edges":["github\u002Ecom/fsnotify/fsnotify","github\u002Ecom/muesli/termenv","fmt","github\u002Ecom/halleck\u0034\u0035/ast/metrics","os","github\u002Ecom/charmbracelet/bubbletea","github\u002Ecom/charmbracelet/lipgloss"]}
        ,
        
        {"id":"rule\u005Fmaintainability",
         "namespace":"rule\u005Fmaintainability",
         "edges":["github\u002Ecom/halleck\u0034\u0035/ast/metrics","fmt"]}
        ,
        
        {"id":"bytes",
         "namespace":"bytes",
         "edges":[]}
        ,
        
        {"id":"analyze\u005Fcommand\u005Ftest",
         "namespace":"analyze\u005Fcommand\u005Ftest",
         "edges":["os","testing","github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/pterm/pterm","bufio"]}
        ,
        
        {"id":"html\u005Freport\u005Fgenerator",
         "namespace":"html\u005Freport\u005Fgenerator",
         "edges":["sort","github\u002Ecom/sirupsen/logrus","embed","strings","github\u002Ecom/flosch/pongo\u0032/v\u0035","os","github\u002Ecom/halleck\u0034\u0035/ast/metrics","time","fmt"]}
        ,
        
        {"id":"component\u005Ftable\u005Fclass",
         "namespace":"component\u005Ftable\u005Fclass",
         "edges":["testing","github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/stretchr/testify/assert"]}
        ,
        
        {"id":"net/http",
         "namespace":"net/http",
         "edges":[]}
        ,
        
        {"id":"json\u005Freport\u005Fgenerator",
         "namespace":"json\u005Freport\u005Fgenerator",
         "edges":["fmt","github\u002Ecom/halleck\u0034\u0035/ast/metrics","encoding/json","io/ioutil","os","github\u002Ecom/stretchr/testify/assert","testing"]}
        ,
        
        {"id":"tree\u005Fsitter\u005Fpython",
         "namespace":"tree\u005Fsitter\u005Fpython",
         "edges":["path/filepath","github\u002Ecom/smacker/go/tree","strings","github\u002Ecom/halleck\u0034\u0035/ast/metrics"]}
        
        
    ]</script>
    <script id="data-edges-between-comms" type="application/json">[
        
        {"from":"open\u005Fmetrics\u005Fgenerator","to":"reflect","edges":1}
        ,
        
        {"from":"open\u005Fmetrics\u005Fgenerator","to":"github\u002Ecom/elliotchance/orderedmap/v\u0032","edges":1}
        ,
        
        {"from":"open\u005Fmetrics\u005Fgenerator","to":"version\u005Fcommand\u005Ftest","edges":1}
        ,
        
        {"from":"open\u005Fmetrics\u005Fgenerator","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":1}
        ,
        
        {"from":"open\u005Fmetrics\u005Fgenerator","to":"lang\u005Fadapter","edges":1}
        ,
        
        {"from":"open\u005Fmetrics\u005Fgenerator","to":"github\u002Ecom/stretchr/testify/assert","edges":2}
        ,
        
        {"from":"github\u002Ecom/elliotchance/orderedmap/v\u0032","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":5}
        ,
        
        {"from":"github\u002Ecom/elliotchance/orderedmap/v\u0032","to":"lang\u005Fadapter","edges":3}
        ,
        
        {"from":"github\u002Ecom/elliotchance/orderedmap/v\u0032","to":"reflect","edges":1}
        ,
        
        {"from":"github\u002Ecom/elliotchance/orderedmap/v\u0032","to":"rule\u005Fcoupling","edges":1}
        ,
        
        {"from":"github\u002Ecom/elliotchance/orderedmap/v\u0032","to":"github\u002Ecom/charmbracelet/bubbles/table","edges":1}
        ,
        
        {"from":"github\u002Ecom/pterm/pterm","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":4}
        ,
        
        {"from":"gopkg\u002Ein\u002Eyaml","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":1}
        ,
        
        {"from":"gopkg\u002Ein\u002Eyaml","to":"lang\u005Fadapter","edges":2}
        ,
        
        {"from":"gopkg\u002Ein\u002Eyaml","to":"github\u002Ecom/charmbracelet/bubbles/table","edges":1}
        ,
        
        {"from":"github\u002Ecom/charmbracelet/bubbles/table","to":"lang\u005Fadapter","edges":4}
        ,
        
        {"from":"github\u002Ecom/charmbracelet/bubbles/table","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":9}
        ,
        
        {"from":"github\u002Ecom/charmbracelet/bubbles/table","to":"sort","edges":2}
        ,
        
        {"from":"github\u002Ecom/charmbracelet/bubbles/table","to":"github\u002Ecom/charmbracelet/bubbletea","edges":4}
        ,
        
        {"from":"github\u002Ecom/charmbracelet/bubbles/table","to":"github\u002Ecom/pterm/pterm","edges":2}
        ,
        
        {"from":"github\u002Ecom/charmbracelet/bubbles/table","to":"gopkg\u002Ein\u002Eyaml","edges":1}
        ,
        
        {"from":"github\u002Ecom/charmbracelet/bubbles/table","to":"math","edges":1}
        ,
        
        {"from":"io/ioutil","to":"lang\u005Fadapter","edges":2}
        ,
        
        {"from":"io/ioutil","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":1}
        ,
        
        {"from":"io/ioutil","to":"github\u002Ecom/stretchr/testify/assert","edges":4}
        ,
        
        {"from":"github\u002Ecom/fsnotify/fsnotify","to":"markdown\u005Freport\u005Fgenerator","edges":1}
        ,
        
        {"from":"github\u002Ecom/fsnotify/fsnotify","to":"github\u002Ecom/charmbracelet/bubbles/table","edges":1}
        ,
        
        {"from":"github\u002Ecom/fsnotify/fsnotify","to":"lang\u005Fadapter","edges":2}
        ,
        
        {"from":"github\u002Ecom/fsnotify/fsnotify","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":1}
        ,
        
        {"from":"github\u002Ecom/inancgumus/screen","to":"github\u002Ecom/pterm/pterm","edges":1}
        ,
        
        {"from":"github\u002Ecom/inancgumus/screen","to":"lang\u005Fadapter","edges":1}
        ,
        
        {"from":"github\u002Ecom/inancgumus/screen","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":1}
        ,
        
        {"from":"github\u002Ecom/inancgumus/screen","to":"markdown\u005Freport\u005Fgenerator","edges":1}
        ,
        
        {"from":"github\u002Ecom/inancgumus/screen","to":"gopkg\u002Ein\u002Eyaml","edges":1}
        ,
        
        {"from":"github\u002Ecom/inancgumus/screen","to":"github\u002Ecom/fsnotify/fsnotify","edges":1}
        ,
        
        {"from":"github\u002Ecom/inancgumus/screen","to":"bufio","edges":1}
        ,
        
        {"from":"workdir","to":"lang\u005Fadapter","edges":2}
        ,
        
        {"from":"github\u002Ecom/charmbracelet/bubbles/textinput","to":"github\u002Ecom/charmbracelet/bubbletea","edges":1}
        ,
        
        {"from":"github\u002Ecom/charmbracelet/bubbles/textinput","to":"github\u002Ecom/charmbracelet/bubbles/table","edges":2}
        ,
        
        {"from":"github\u002Ecom/charmbracelet/bubbles/textinput","to":"rule\u005Fcoupling","edges":1}
        ,
        
        {"from":"math","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":3}
        ,
        
        {"from":"math","to":"github\u002Ecom/stretchr/testify/assert","edges":2}
        ,
        
        {"from":"math","to":"reflect","edges":1}
        ,
        
        {"from":"screen\u005Ffile\u005Fselection","to":"github\u002Ecom/charmbracelet/bubbletea","edges":1}
        ,
        
        {"from":"screen\u005Ffile\u005Fselection","to":"gopkg\u002Ein\u002Eyaml","edges":1}
        ,
        
        {"from":"screen\u005Ffile\u005Fselection","to":"github\u002Ecom/elliotchance/orderedmap/v\u0032","edges":1}
        ,
        
        {"from":"math/rand","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":1}
        ,
        
        {"from":"math/rand","to":"math","edges":1}
        ,
        
        {"from":"github\u002Ecom/yargevad/filepathx","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":1}
        ,
        
        {"from":"github\u002Ecom/yargevad/filepathx","to":"rule\u005Fcoupling","edges":1}
        ,
        
        {"from":"github\u002Ecom/yargevad/filepathx","to":"lang\u005Fadapter","edges":1}
        ,
        
        {"from":"unicode/utf\u0038","to":"lang\u005Fadapter","edges":2}
        ,
        
        {"from":"unicode/utf\u0038","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":1}
        ,
        
        {"from":"unicode/utf\u0038","to":"rule\u005Fcoupling","edges":1}
        ,
        
        {"from":"sync/atomic","to":"reflect","edges":1}
        ,
        
        {"from":"sync/atomic","to":"sync","edges":2}
        ,
        
        {"from":"sync/atomic","to":"io/ioutil","edges":1}
        ,
        
        {"from":"sync/atomic","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":1}
        ,
        
        {"from":"sync/atomic","to":"github\u002Ecom/pterm/pterm","edges":1}
        ,
        
        {"from":"sync/atomic","to":"github\u002Ecom/charmbracelet/bubbles/table","edges":1}
        ,
        
        {"from":"sync/atomic","to":"github\u002Ecom/yargevad/filepathx","edges":1}
        ,
        
        {"from":"screen\u005Fhome","to":"lang\u005Fadapter","edges":1}
        ,
        
        {"from":"screen\u005Fhome","to":"github\u002Ecom/charmbracelet/bubbletea","edges":1}
        ,
        
        {"from":"screen\u005Fhome","to":"github\u002Ecom/fsnotify/fsnotify","edges":1}
        ,
        
        {"from":"screen\u005Fhome","to":"github\u002Ecom/charmbracelet/bubbles/table","edges":2}
        ,
        
        {"from":"screen\u005Fhome","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":1}
        ,
        
        {"from":"log","to":"github\u002Ecom/charmbracelet/bubbles/table","edges":2}
        ,
        
        {"from":"log","to":"lang\u005Fadapter","edges":3}
        ,
        
        {"from":"bufio","to":"lang\u005Fadapter","edges":1}
        ,
        
        {"from":"bufio","to":"github\u002Ecom/stretchr/testify/assert","edges":1}
        ,
        
        {"from":"bufio","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":1}
        ,
        
        {"from":"bufio","to":"github\u002Ecom/pterm/pterm","edges":1}
        ,
        
        {"from":"visitor","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":1}
        ,
        
        {"from":"visitor","to":"lang\u005Fadapter","edges":3}
        ,
        
        {"from":"self\u005Fupdate\u005Fcommand","to":"version\u005Fcommand\u005Ftest","edges":1}
        ,
        
        {"from":"self\u005Fupdate\u005Fcommand","to":"github\u002Ecom/stretchr/testify/assert","edges":2}
        ,
        
        {"from":"self\u005Fupdate\u005Fcommand","to":"json\u005Freport\u005Fgenerator","edges":1}
        ,
        
        {"from":"self\u005Fupdate\u005Fcommand","to":"sync","edges":1}
        ,
        
        {"from":"self\u005Fupdate\u005Fcommand","to":"lang\u005Fadapter","edges":2}
        ,
        
        {"from":"self\u005Fupdate\u005Fcommand","to":"github\u002Ecom/charmbracelet/bubbles/table","edges":1}
        ,
        
        {"from":"screen\u005Fsummary","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":1}
        ,
        
        {"from":"screen\u005Fsummary","to":"github\u002Ecom/charmbracelet/bubbles/table","edges":2}
        ,
        
        {"from":"screen\u005Fsummary","to":"github\u002Ecom/charmbracelet/bubbletea","edges":1}
        ,
        
        {"from":"github\u002Ecom/stretchr/testify/assert","to":"lang\u005Fadapter","edges":2}
        ,
        
        {"from":"github\u002Ecom/stretchr/testify/assert","to":"github\u002Ecom/charmbracelet/bubbletea","edges":1}
        ,
        
        {"from":"github\u002Ecom/stretchr/testify/assert","to":"reflect","edges":1}
        ,
        
        {"from":"github\u002Ecom/stretchr/testify/assert","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":16}
        ,
        
        {"from":"github\u002Ecom/stretchr/testify/assert","to":"github\u002Ecom/charmbracelet/bubbles/table","edges":2}
        ,
        
        {"from":"github\u002Ecom/charmbracelet/bubbletea","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":5}
        ,
        
        {"from":"github\u002Ecom/charmbracelet/bubbletea","to":"github\u002Ecom/charmbracelet/bubbles/table","edges":2}
        ,
        
        {"from":"github\u002Ecom/charmbracelet/bubbletea","to":"github\u002Ecom/stretchr/testify/assert","edges":2}
        ,
        
        {"from":"version\u005Fcommand\u005Ftest","to":"lang\u005Fadapter","edges":1}
        ,
        
        {"from":"version\u005Fcommand\u005Ftest","to":"github\u002Ecom/stretchr/testify/assert","edges":2}
        ,
        
        {"from":"sort","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":2}
        ,
        
        {"from":"reflect","to":"gopkg\u002Ein\u002Eyaml","edges":1}
        ,
        
        {"from":"reflect","to":"math","edges":1}
        ,
        
        {"from":"reflect","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":1}
        ,
        
        {"from":"reflect","to":"github\u002Ecom/stretchr/testify/assert","edges":1}
        ,
        
        {"from":"reflect","to":"sync","edges":1}
        ,
        
        {"from":"sync","to":"lang\u005Fadapter","edges":1}
        ,
        
        {"from":"sync","to":"github\u002Ecom/pterm/pterm","edges":2}
        ,
        
        {"from":"sync","to":"math","edges":1}
        ,
        
        {"from":"sync","to":"github\u002Ecom/charmbracelet/bubbles/table","edges":2}
        ,
        
        {"from":"sync","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":2}
        ,
        
        {"from":"rule\u005Fcoupling","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":3}
        ,
        
        {"from":"rule\u005Fcoupling","to":"github\u002Ecom/charmbracelet/bubbles/table","edges":3}
        ,
        
        {"from":"json\u005Freport\u005Fgenerator","to":"github\u002Ecom/charmbracelet/bubbles/table","edges":1}
        ,
        
        {"from":"json\u005Freport\u005Fgenerator","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":1}
        ,
        
        {"from":"json\u005Freport\u005Fgenerator","to":"io/ioutil","edges":1}
        ,
        
        {"from":"json\u005Freport\u005Fgenerator","to":"lang\u005Fadapter","edges":1}
        ,
        
        {"from":"json\u005Freport\u005Fgenerator","to":"github\u002Ecom/stretchr/testify/assert","edges":2}
        ,
        
        {"from":"lang\u005Fadapter","to":"reflect","edges":1}
        ,
        
        {"from":"lang\u005Fadapter","to":"github\u002Ecom/charmbracelet/bubbles/table","edges":1}
        ,
        
        {"from":"lang\u005Fadapter","to":"github\u002Ecom/stretchr/testify/assert","edges":5}
        ,
        
        {"from":"lang\u005Fadapter","to":"io/ioutil","edges":1}
        ,
        
        {"from":"lang\u005Fadapter","to":"markdown\u005Freport\u005Fgenerator","edges":1}
        ,
        
        {"from":"lang\u005Fadapter","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":11}
        ,
        
        {"from":"lang\u005Fadapter","to":"github\u002Ecom/pterm/pterm","edges":3}
        ,
        
        {"from":"file\u005Fhash","to":"version\u005Fcommand\u005Ftest","edges":1}
        ,
        
        {"from":"file\u005Fhash","to":"lang\u005Fadapter","edges":1}
        ,
        
        {"from":"file\u005Fhash","to":"reflect","edges":1}
        ,
        
        {"from":"file\u005Fhash","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":1}
        ,
        
        {"from":"file\u005Fhash","to":"gopkg\u002Ein\u002Eyaml","edges":1}
        ,
        
        {"from":"markdown\u005Freport\u005Fgenerator","to":"github\u002Ecom/charmbracelet/bubbles/table","edges":2}
        ,
        
        {"from":"markdown\u005Freport\u005Fgenerator","to":"lang\u005Fadapter","edges":3}
        ,
        
        {"from":"markdown\u005Freport\u005Fgenerator","to":"sort","edges":2}
        ,
        
        {"from":"markdown\u005Freport\u005Fgenerator","to":"github\u002Ecom/elliotchance/orderedmap/v\u0032","edges":1}
        ,
        
        {"from":"markdown\u005Freport\u005Fgenerator","to":"github\u002Ecom/halleck\u0034\u0035/ast/metrics","edges":2}
        
        
    ]</script>
    <script id="data-matrix-order" type="application/json">[
        "github\u002Ecom/evandro/slv/go","math/rand","github\u002Ecom/charmbracelet/bubbles/textinput","screen\u005Fsummary","math","sort","screen\u005Ffile\u005Fselection","github\u002Ecom/charmbracelet/bubbletea","sync/atomic","rule\u005Fcoupling","github\u002Ecom/halleck\u0034\u0035/ast/metrics","github\u002Ecom/charmbracelet/bubbles/table","github\u002Ecom/stretchr/testify/assert","reflect","sync","github\u002Ecom/elliotchance/orderedmap/v\u0032","github\u002Ecom/pterm/pterm","markdown\u005Freport\u005Fgenerator","gopkg\u002Ein\u002Eyaml","github\u002Ecom/inancgumus/screen","self\u005Fupdate\u005Fcommand","open\u005Fmetrics\u005Fgenerator","json\u005Freport\u005Fgenerator","github\u002Ecom/fsnotify/fsnotify","screen\u005Fhome","version\u005Fcommand\u005Ftest","file\u005Fhash","io/ioutil","bufio","github\u002Ecom/yargevad/filepathx","unicode/utf\u0038","log","visitor","lang\u005Fadapter","workdir"
    ]</script>
    <script id="data-boundary" type="application/json">[
        "php\u005Frunner\u005Ftest","cleaner","screen\u005Ftable\u005Fclass","clean\u005Fcommand\u005Ftest","version\u005Fcommand","self\u005Fupdate\u005Fcommand","screen\u005Fby\u005Fprogramming","html\u005Freport\u005Fgenerator","git\u005Frepository","screen\u005Fsummary","component\u005Fstatistics\u005Foverview","git\u005Fanalyzer","configuration\u005Floader\u005Ftest","runner","git\u005Frepository\u005Ftest","open\u005Fmetrics\u005Fgenerator","rule\u005Fcyclomatic","mardown\u005Freport\u005Fgenerator","analyze\u005Fcommand\u005Ftest","community\u005Fdetection","file\u005Fhash","ast\u005Fdumper","finder","golang\u005Frunner","screen\u005Fhtml\u005Freport","python\u005Frunner","util","finder\u005Ftest","component\u005Fsearch","tree\u005Fsitter\u005Fphp","json\u005Freport\u005Fgenerator","component\u005Fclass\u005Ftable","halstead\u005Fmetrics\u005Fvisitor","screen\u005Fend","analyze\u005Fcommand","rule\u005Fvolume\u005Floc","aggregator\u005Ftest","rust\u005Frunner","screen\u005Ffile\u005Fselection","visitor","maintainability\u005Findex\u005Fvisitor","ast\u005Fanalyzer","requirements\u005Fevaluator\u005Ftest","ruleset\u005Fshow\u005Fcommand","php\u005Fself\u005Fstatic","version\u005Fcommand\u005Ftest","ast\u005Fanalyzer\u005Ftest","rule\u005Fcoupling","screen\u005Fhome\u005Ftest","screen\u005Fhome","bus\u005Ffactor\u005Ftest","ruleset\u005Fadd","styles","component\u005Ffile\u005Ftable","markdown\u005Freport\u005Fgenerator","php\u005Frunner","aggregator","command\u005Fwatcher"
    ]</script>

    
    <div class="grid grid-cols-12 gap-4">
        <div class="col-span-9">
            <svg id="comm-graph" viewBox="0 0 900 500" class="w-full h-[500px] border border-gray-200 rounded"></svg>
        </div>
        <div class="col-span-3">
            <div id="drilldown" class="hidden bg-gray-50 border rounded p-3 h-[500px] overflow-auto">
                <div class="flex justify-between items-center mb-2">
                    <h3 id="dd-title" class="font-semibold">Community</h3>
                    <button id="dd-close" class="text-xs text-gray-600 hover:text-black">close</button>
                </div>
                <div id="dd-meta" class="text-sm text-gray-700 mb-2"></div>
                <table class="min-w-full text-xs">
                    <thead>
                    <tr>
                        <th class="text-left p-1">node</th>
                        <th class="text-left p-1">namespace</th>
                        <th class="text-left p-1">boundary</th>
                        <th class="text-left p-1">in</th>
                        <th class="text-left p-1">out</th>
                    </tr>
                    </thead>
                    <tbody id="dd-body"></tbody>
                </table>
            </div>
            <div id="legend" class="text-xs text-gray-700">
                <div class="font-semibold mb-1">Legend</div>
                <div>Size = nb of nodes</div>
                <div>Color = top namespace</div>
                <div>Edge thickness = nb of calls between communities</div>
                <div><span class="inline-block w-3 h-3 rounded-full mr-1" style="border:2px solid #dc2626"></span> Red
                    ring = community contains critical nodes
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Global tooltip element and helpers for all views (Graph, Layered, Sankey)
            (function ensureGlobalGraphTooltip(){
                if (!document.getElementById('graph-tooltip')) {
                    const tip = document.createElement('div');
                    tip.id = 'graph-tooltip';
                    tip.className = 'graph-tooltip';
                    tip.style.display = 'none';
                    document.body.appendChild(tip);
                }
                if (!window.graphTooltip) {
                    const __tooltip = () => document.getElementById('graph-tooltip');
                    window.graphTooltip = {
                        show(html, event){
                            const el = __tooltip(); if (!el) return;
                            el.innerHTML = html; el.style.display = 'block'; el.classList.add('visible');
                            this.move(event);
                        },
                        move(event){
                            const el = __tooltip(); if (!el) return;
                            el.style.left = (event.clientX) + 'px';
                            el.style.top = (event.clientY) + 'px';
                        },
                        hide(){
                            const el = __tooltip(); if (!el) return;
                            el.classList.remove('visible'); el.style.display = 'none';
                        }
                    };
                }
            })();
            (function waitForD3() {
                if (!(window.d3 && typeof d3.forceSimulation === 'function')) {
                    return setTimeout(waitForD3, 50);
                }
                (function () {
                    // Build data from compact JSON payloads
                    const communities = JSON.parse(document.getElementById('data-communities').textContent || '[]');
                    const commMembers = JSON.parse(document.getElementById('data-comm-members').textContent || '[]');
                    const nodeToCommunity = {};
                    commMembers.forEach(e => { (e.nodes||[]).forEach(n => nodeToCommunity[n] = e.comm); });
                    const boundarySet = new Set(JSON.parse(document.getElementById('data-boundary').textContent || '[]'));
                    const nodes = JSON.parse(document.getElementById('data-graph').textContent || '[]');
                    // Build quick maps
                    const nodeMap = new Map(nodes.map(n => [n.id, n]));
                    // in-degree map
                    const indeg = new Map();
                    const outdeg = new Map();
                    nodes.forEach(n => {
                        outdeg.set(n.id, (n.edges || []).length);
                        (n.edges || []).forEach(v => indeg.set(v, (indeg.get(v) || 0) + 1));
                    });

                    // Map top namespace to color (consistent colors by namespace)
                    const allTopNS = Array.from(new Set(communities.flatMap(c => (c.topNamespaces && c.topNamespaces.length ? [c.topNamespaces[0]] : [""]))))
                        .sort();
                    const colorScale = d3.scaleOrdinal(d3.schemeTableau10).domain(allTopNS);
                    // Fallback: infer dominant namespace per community when absent; else deterministic hash color by id
                    const nsByCommunity = new Map();
                    // Precompute mapping community -> dominant namespace
                    (function computeDominantNs() {
                        const commMembers = new Map();
                        Object.entries(nodeToCommunity).forEach(([nid, cid]) => {
                            if (!commMembers.has(cid)) commMembers.set(cid, []);
                            commMembers.get(cid).push(nid);
                        });
                        commMembers.forEach((ids, cid) => {
                            // count namespaces
                            const counts = new Map();
                            ids.forEach(nid => {
                                const ns = (nodeMap.get(nid)?.namespace || '').trim();
                                if (!ns) return;
                                counts.set(ns, (counts.get(ns) || 0) + 1);
                            });
                            let best = '';
                            let bestC = -1;
                            counts.forEach((c, ns) => {
                                if (c > bestC) {
                                    bestC = c;
                                    best = ns;
                                }
                            });
                            if (best) nsByCommunity.set(cid, best);
                        });
                    })();

                    function hashColorFromId(id) {
                        // simple hash -> pick from schemeTableau10 deterministically
                        const palette = d3.schemeTableau10;
                        let h = 0;
                        for (let i = 0; i < id.length; i++) {
                            h = ((h << 5) - h) + id.charCodeAt(i);
                            h |= 0;
                        }
                        const idx = Math.abs(h) % palette.length;
                        return palette[idx];
                    }

                    const fillColor = (d) => {
                        // prefer explicit topNamespaces
                        const ns = (d && d.topNamespaces && d.topNamespaces.length) ? d.topNamespaces[0] : null;
                        if (ns) return colorScale(ns);
                        // try inferred dominant ns
                        const inferred = nsByCommunity.get(d.id);
                        if (inferred) return colorScale(inferred);
                        // fallback: deterministic color by id (no longer gray)
                        return hashColorFromId(String(d.id || ''));
                    };
                    // Build namespace legend with color swatches
                    (function buildNsLegend() {
                        const legend = document.getElementById('legend');
                        if (!legend) return;
                        // remove previous ns legend if any
                        const old = legend.querySelector('.ns-legend');
                        if (old) old.remove();
                        const wrap = document.createElement('div');
                        wrap.className = 'ns-legend mt-1 overflow-auto max-h-96';
                        const title = document.createElement('div');
                        title.className = 'font-semibold mt-2';
                        title.textContent = 'Namespaces:';
                        wrap.appendChild(title);
                        const list = document.createElement('div');
                        list.className = 'flex flex-wrap gap-2 mt-1';
                        const nsList = allTopNS.filter(ns => ns && ns.trim().length > 0);
                        if (nsList.length === 0) {
                            const i = document.createElement('div');
                            i.className = 'text-gray-500';
                            i.textContent = '(no namespace data)';
                            list.appendChild(i);
                        } else {
                            nsList.forEach(ns => {
                                const item = document.createElement('div');
                                item.className = 'flex items-center';
                                const dot = document.createElement('span');
                                dot.className = 'inline-block w-3 h-3 rounded-full mr-1';
                                dot.style.background = colorScale(ns);
                                dot.style.border = '1px solid rgba(0,0,0,0.2)';
                                const label = document.createElement('span');
                                label.textContent = ns;
                                item.appendChild(dot);
                                item.appendChild(label);
                                list.appendChild(item);
                            });
                        }
                        // Add hint for communities without namespace: color by id
                        const noNsSwatch = document.createElement('div');
                        noNsSwatch.className = 'flex items-center mt-1';
                        const dot2 = document.createElement('span');
                        dot2.className = 'inline-block w-3 h-3 rounded-full mr-1';
                        dot2.style.background = '#9ca3af';
                        dot2.style.border = '1px solid rgba(0,0,0,0.2)';
                        const label2 = document.createElement('span');
                        label2.textContent = 'No namespace: colored deterministically by community id';
                        noNsSwatch.appendChild(dot2);
                        noNsSwatch.appendChild(label2);
                        list.appendChild(noNsSwatch);
                        wrap.appendChild(list);
                        legend.appendChild(wrap);
                    })();

                    // Build inter-community matrix and metrics before drawing
                    const commIds = communities.map(c => c.id);
                    const idIndex = new Map(commIds.map((id, i) => [id, i]));
                    const nComm = commIds.length;
                    const mat = Array.from({length: nComm}, () => Array(nComm).fill(0));
                    nodes.forEach(u => {
                        const cu = nodeToCommunity[u.id];
                        (u.edges || []).forEach(v => {
                            const cv = nodeToCommunity[v];
                            if (!cu || !cv) return;
                            const i = idIndex.get(cu), j = idIndex.get(cv);
                            if (i == null || j == null) return;
                            mat[i][j] += 1;
                        });
                    });
                    const commStats = new Map(); // id -> {inbound,outbound,internal,total,coupling}
                    for (let i = 0; i < nComm; i++) {
                        const outbound = d3.sum(mat[i].filter((_, j) => j !== i));
                        let inbound = 0;
                        for (let r = 0; r < nComm; r++) {
                            if (r !== i) inbound += mat[r][i];
                        }
                        const internal = mat[i][i];
                        const total = inbound + outbound + internal;
                        const coupling = total > 0 ? (outbound / total) : 0;
                        commStats.set(commIds[i], {inbound, outbound, internal, total, coupling});
                    }

                    // Graph view: draw circles and links with force-directed layout
                    const W = 900, H = 500;
                    const svg = d3.select('#comm-graph');
                    svg.selectAll('*').remove();

                    const maxSize = d3.max(communities, d => d.size) || 1;
                    const rScale = d3.scaleSqrt().domain([0, maxSize]).range([10, 60]);

                    const nodesSim = communities.map((d, i) => ({
                        ...d,
                        x: Math.random() * W,
                        y: Math.random() * H,
                        r: rScale(d.size)
                    }));

                    // Build inter-community links with weights from matrix (exclude self)
                    const links = [];
                    for (let i = 0; i < nComm; i++) {
                        for (let j = 0; j < nComm; j++) {
                            if (i === j) continue;
                            const w = mat[i][j] + mat[j][i]; // undirected weight as sum
                            if (w > 0) {
                                links.push({source: commIds[i], target: commIds[j], weight: w});
                            }
                        }
                    }
                    const maxW = d3.max(links, l => l.weight) || 1;
                    const widthScale = d3.scaleSqrt().domain([1, maxW]).range([0.5, 8]);

                    const sim = d3.forceSimulation(nodesSim)
                        .force('center', d3.forceCenter(W / 2, H / 2))
                        .force('link', d3.forceLink(links).id(d => d.id).distance(d => 170).strength(d => Math.min(0.5, 0.05 + (d.weight / maxW) * 0.2)))
                        .force('collide', d3.forceCollide(d => d.r + 10))
                        .force('charge', d3.forceManyBody().strength(2))
                        .stop();
                    for (let i = 0; i < 300; i++) sim.tick();

                    const g = svg.append('g');
                    // Zoom/pan
                    const zoomG = d3.zoom().scaleExtent([0.5, 8]).on('zoom', (event) => {
                        g.attr('transform', event.transform);
                    });
                    svg.call(zoomG);
                    // If no links, show a subtle note
                    if (links.length === 0) {
                        g.append('text').attr('x', 12).attr('y', 18).attr('fill', '#6b7280').attr('font-size', 12).text('No inter-community links in data');
                    }
                    // Build adjacency for hover highlighting
                    const neighbors = new Map();
                    nodesSim.forEach(n => neighbors.set(n.id, new Set([n.id]))); // include self
                    links.forEach(l => {
                        const s = (typeof l.source === 'object') ? l.source.id : l.source;
                        const t = (typeof l.target === 'object') ? l.target.id : l.target;
                        if (!neighbors.has(s)) neighbors.set(s, new Set([s]));
                        if (!neighbors.has(t)) neighbors.set(t, new Set([t]));
                        neighbors.get(s).add(t);
                        neighbors.get(t).add(s);
                    });

                    // draw links first
                    function getX(nodeRef) {
                        if (nodeRef && typeof nodeRef === 'object') return nodeRef.x || 0;
                        const n = nodesSim.find(n => n.id === nodeRef);
                        return (n && n.x) || 0;
                    }

                    function getY(nodeRef) {
                        if (nodeRef && typeof nodeRef === 'object') return nodeRef.y || 0;
                        const n = nodesSim.find(n => n.id === nodeRef);
                        return (n && n.y) || 0;
                    }

                    const linkSel = g.selectAll('line.link').data(links).enter().append('line')
                        .attr('class', 'link')
                        .attr('x1', d => getX(d.source))
                        .attr('y1', d => getY(d.source))
                        .attr('x2', d => getX(d.target))
                        .attr('y2', d => getY(d.target))
                        .attr('stroke', '#9ca3af')
                        .attr('stroke-opacity', 0.8)
                        .attr('stroke-width', d => widthScale(d.weight));

                    const nodeG = g.selectAll('g.comm').data(nodesSim).enter().append('g').attr('class', 'comm')
                        .attr('transform', d => `translate(${d.x},${d.y})`)
                        .style('cursor', 'pointer');

                    nodeG.append('circle')
                        .attr('class', 'graph-hover')
                        .attr('r', d => d.r)
                        .attr('fill', d => fillColor(d))
                        .attr('fill-opacity', 0.85)
                        .attr('stroke', '#333').attr('stroke-width', 0.5)
                        .on('mouseenter', function(event, d){
                            const tns = (d.topNamespaces || []).slice(0, 3).join(', ');
                            const tcs = (d.topClasses || []).slice(0, 5).join(', ');
                            const stat = commStats.get(d.id) || {coupling: 0};
                            const p = Math.round((d.purity || 0) * 100);
                            const coup = Math.round((stat.coupling || 0) * 100);
                            const html = `<strong>${d.id}</strong><br><span style='opacity:.85'>Purity: ${p}% Â· Coupling: ${coup}%</span>${tns?`<br>Top ns: ${tns}`:''}${tcs?`<br>Top nodes: ${tcs}`:''}`;
                            if (window.graphTooltip) window.graphTooltip.show(html, event);
                        })
                        .on('mousemove', function(event){ if (window.graphTooltip) window.graphTooltip.move(event); })
                        .on('mouseleave', function(){ if (window.graphTooltip) window.graphTooltip.hide(); });

                    // Focus & hover state + unified visibility
                    let currentFocusId = null;
                    let hoverId = null;

                    function computeBaseVisible() {
                        const onlyCrit = document.getElementById('only-critical-comms')?.checked;
                        if (!onlyCrit) {
                            return new Set(nodesSim.map(n => n.id));
                        }
                        const visible = new Set();
                        criticalSet.forEach(cid => {
                            visible.add(cid);
                            const nbrs = neighbors.get(cid);
                            if (nbrs) nbrs.forEach(x => visible.add(x));
                        });
                        return visible;
                    }

                    function applyVisibility() {
                        const q = (document.getElementById('graph-search')?.value || '').trim().toLowerCase();
                        const base = computeBaseVisible();

                        // Show note if critical mode and nothing to show
                        const critCb = document.getElementById('only-critical-comms');
                        const none = critCb?.checked && base.size === 0;
                        d3.select('#crit-note').style('display', none ? null : 'none');

                        // Focus has priority over hover
                        let activeSet = base;
                        // Apply text search to base set: keep communities whose id or top namespace or top classes matches
                        if (q) {
                            const lowered = q;
                            const matchIds = new Set();
                            nodesSim.forEach(n => {
                                const idStr = String(n.id || '').toLowerCase();
                                const nsStr = (n.topNamespaces || []).join(' ').toLowerCase();
                                const clsStr = (n.topClasses || []).join(' ').toLowerCase();
                                if (idStr.includes(lowered) || nsStr.includes(lowered) || clsStr.includes(lowered)) {
                                    matchIds.add(n.id);
                                }
                            });
                            activeSet = new Set([...activeSet].filter(x => matchIds.has(x)));
                        }
                        const activeId = currentFocusId || (hoverId && !currentFocusId ? hoverId : null);
                        if (activeId) {
                            const nbrs = neighbors.get(activeId) || new Set([activeId]);
                            activeSet = new Set([...nbrs].filter(x => base.has(x)));
                        }

                        nodeG.attr('display', d => {
                            if (none) return 'none';
                            return activeSet.has(d.id) ? null : 'none';
                        });
                        // Highlight matches when a query is present
                        nodeG.select('circle')
                            .attr('stroke', d => {
                                if (!q) return '#333';
                                const idStr = String(d.id || '').toLowerCase();
                                const nsStr = (d.topNamespaces || []).join(' ').toLowerCase();
                                const clsStr = (d.topClasses || []).join(' ').toLowerCase();
                                return (idStr.includes(q) || nsStr.includes(q) || clsStr.includes(q)) ? '#10b981' : '#bbb';
                            })
                            .attr('stroke-width', d => {
                                if (!q) return 0.5;
                                const idStr = String(d.id || '').toLowerCase();
                                const nsStr = (d.topNamespaces || []).join(' ').toLowerCase();
                                const clsStr = (d.topClasses || []).join(' ').toLowerCase();
                                return (idStr.includes(q) || nsStr.includes(q) || clsStr.includes(q)) ? 2.5 : 0.5;
                            });

                        linkSel.attr('display', l => {
                            if (none) return 'none';
                            const s = (typeof l.source === 'object') ? l.source.id : l.source;
                            const t = (typeof l.target === 'object') ? l.target.id : l.target;
                            return (activeSet.has(s) && activeSet.has(t)) ? null : 'none';
                        });
                    }

                    // Hover handlers: restrict to hovered + neighbors unless a focus is set
                    nodeG.on('mouseenter', (event, d) => {
                        if (currentFocusId) return;
                        hoverId = d.id;
                        applyVisibility();
                    }).on('mouseleave', () => {
                        if (currentFocusId) return;
                        hoverId = null;
                        applyVisibility();
                    });

                    // Click on background to clear focus/hover
                    svg.on('click', () => {
                        currentFocusId = null;
                        hoverId = null;
                        applyVisibility();
                    });

                    // Bind search input
                    const gSearch = document.getElementById('graph-search');
                    if (gSearch) {
                        gSearch.addEventListener('input', applyVisibility);
                    }

                    // Critical filter visibility handling
                    let criticalSet = new Set(); // filled after criticality computation
                    const critNote = g.append('text')
                        .attr('x', 12).attr('y', 36)
                        .attr('fill', '#6b7280').attr('font-size', 12)
                        .attr('id', 'crit-note')
                        .style('display', 'none')
                        .text('No critical data to display');

                    function updateCriticalVisibility() {
                        applyVisibility();
                    }

                    // Label: Ck (N nodes, purity P%)
                    nodeG.append('text')
                        .attr('y', d => d.r + 12)
                        .attr('text-anchor', 'middle')
                        .attr('font-size', 11)
                        .attr('fill', '#374151')
                        .text(d => {
                            const p = Math.round((d.purity || 0) * 100);
                            return `${d.id} (${d.size} nodes, purity ${p}%)`;
                        })
                        .each(function (d) {
                            // hide label if circle too small to avoid clutter
                            const el = this;
                            if (d.r < 18) el.setAttribute('display', 'none');
                        });

                    // Drill-down panel
                    const dd = document.getElementById('drilldown');
                    const ddTitle = document.getElementById('dd-title');
                    const ddMeta = document.getElementById('dd-meta');
                    const ddBody = document.getElementById('dd-body');
                    document.getElementById('dd-close').addEventListener('click', () => {
                        dd.classList.add('hidden');
                    });

                    nodeG.on('click', (event, d) => {
                        // Prevent background click from firing
                        event.stopPropagation();

                        // Toggle focus and apply visibility
                        currentFocusId = (currentFocusId === d.id) ? null : d.id;
                        applyVisibility();

                        // Drill-down content
                        ddTitle.textContent = `Community ${d.id}`;
                        const p = Math.round((d.purity || 0) * 100);
                        const stat = commStats.get(d.id) || {coupling: 0};
                        const coup = Math.round((stat.coupling || 0) * 100);
                        ddMeta.textContent = `${d.size} nodes â€” purity ${p}% â€” coupling ${coup}% â€” Top ns: ${(d.topNamespaces || []).slice(0, 3).join(', ') || 'n/a'}`;
                        ddBody.innerHTML = '';
                        // collect node ids in this community
                        const nodeIds = Object.keys(nodeToCommunity).filter(nid => nodeToCommunity[nid] === d.id);
                        nodeIds.sort();
                        const frag = document.createDocumentFragment();
                        nodeIds.forEach(nid => {
                            const n = nodeMap.get(nid) || {edges: [], namespace: ''};
                            const tr = document.createElement('tr');
                            tr.className = 'border-t';
                            const td0 = document.createElement('td');
                            td0.className = 'p-1';
                            td0.textContent = nid;
                            tr.appendChild(td0);
                            const td1 = document.createElement('td');
                            td1.className = 'p-1';
                            td1.textContent = n.namespace || '';
                            tr.appendChild(td1);
                            const td2 = document.createElement('td');
                            td2.className = 'p-1';
                            td2.textContent = boundarySet.has(nid) ? 'yes' : '';
                            tr.appendChild(td2);
                            const td3 = document.createElement('td');
                            td3.className = 'p-1';
                            td3.textContent = indeg.get(nid) || 0;
                            tr.appendChild(td3);
                            const td4 = document.createElement('td');
                            td4.className = 'p-1';
                            td4.textContent = outdeg.get(nid) || 0;
                            tr.appendChild(td4);
                            frag.appendChild(tr);
                        });
                        ddBody.appendChild(frag);
                        if (currentFocusId === null) {
                            dd.classList.add('hidden');
                        } else {
                            dd.classList.remove('hidden');
                        }
                    });

                    // Criticality metrics: betweenness centrality, articulation points, boundary nodes and suggestions
                    (function computeCriticality() {
                        // Build undirected adjacency
                        const adj = new Map();

                        function addEdge(a, b) {
                            if (!adj.has(a)) adj.set(a, new Set());
                            adj.get(a).add(b);
                        }

                        nodes.forEach(u => {
                            (u.edges || []).forEach(v => {
                                addEdge(u.id, v);
                                addEdge(v, u.id);
                            });
                        });
                        // Ensure all nodes existing in adj
                        nodes.forEach(u => {
                            if (!adj.has(u.id)) adj.set(u.id, new Set());
                        });

                        // Brandes betweenness centrality (sample for big graphs)
                        const V = Array.from(adj.keys());
                        const bet = new Map(V.map(v => [v, 0]));
                        const SAMPLE_LIMIT = 800;
                        const srcs = V.length > SAMPLE_LIMIT ? V.slice().sort(() => Math.random() - 0.5).slice(0, SAMPLE_LIMIT) : V;
                        srcs.forEach(s => {
                            const S = [];
                            const P = new Map();
                            V.forEach(v => P.set(v, []));
                            const sigma = new Map(V.map(v => [v, 0]));
                            sigma.set(s, 1);
                            const dist = new Map(V.map(v => [v, -1]));
                            dist.set(s, 0);
                            const Q = [s];
                            while (Q.length) {
                                const v = Q.shift();
                                S.push(v);
                                (adj.get(v) || []).forEach(w => {
                                    if (dist.get(w) < 0) {
                                        Q.push(w);
                                        dist.set(w, dist.get(v) + 1);
                                    }
                                    if (dist.get(w) === dist.get(v) + 1) {
                                        sigma.set(w, sigma.get(w) + sigma.get(v));
                                        P.get(w).push(v);
                                    }
                                });
                            }
                            const delta = new Map(V.map(v => [v, 0]));
                            while (S.length) {
                                const w = S.pop();
                                (P.get(w) || []).forEach(v => {
                                    delta.set(v, delta.get(v) + (sigma.get(v) / sigma.get(w)) * (1 + delta.get(w)));
                                });
                                if (w !== s) {
                                    bet.set(w, bet.get(w) + delta.get(w));
                                }
                            }
                        });
                        // Normalize for undirected graph
                        const norm = (V.length > 2) ? (1 / ((V.length - 1) * (V.length - 2))) : 1;
                        V.forEach(v => bet.set(v, bet.get(v) * norm));

                        // Articulation points via DFS (Tarjan)
                        const disc = new Map(), low = new Map(), parent = new Map();
                        const art = new Set();
                        let time = 0;

                        function APUtil(u) {
                            disc.set(u, ++time);
                            low.set(u, disc.get(u));
                            let children = 0;
                            (adj.get(u) || []).forEach(v => {
                                if (!disc.has(v)) {
                                    parent.set(v, u);
                                    children++;
                                    APUtil(v);
                                    low.set(u, Math.min(low.get(u), low.get(v)));
                                    if ((parent.get(u) == null && children > 1) || (parent.get(u) != null && low.get(v) >= disc.get(u))) art.add(u);
                                } else if (v !== parent.get(u)) {
                                    low.set(u, Math.min(low.get(u), disc.get(v)));
                                }
                            });
                        }

                        V.forEach(u => {
                            if (!disc.has(u)) APUtil(u);
                        });

                        // Boundary nodes from backend already in boundarySet
                        const boundary = boundarySet;

                        // Community centrality (sum of member betweenness) and ranks
                        const commCentrality = new Map(commIds.map(id => [id, 0]));
                        Object.entries(nodeToCommunity).forEach(([nid, cid]) => {
                            commCentrality.set(cid, (commCentrality.get(cid) || 0) + (bet.get(nid) || 0));
                        });
                        const ranked = commIds
                            .map(id => ({id, score: commCentrality.get(id) || 0}))
                            .sort((a, b) => b.score - a.score);
                        const commRank = new Map(ranked.map((d, i) => [d.id, i + 1]));

                        // Update Communities table columns: coupling and criticality rank and update hints
                        commIds.forEach(cid => {
                            const stat = commStats.get(cid) || {coupling: 0};
                            const tdCoup = document.querySelector(`.comm-coupling[data-comm="${cid}"]`);
                            const tdRank = document.querySelector(`.comm-crit-rank[data-comm="${cid}"]`);
                            if (tdCoup) tdCoup.textContent = `${Math.round((stat.coupling || 0) * 100)}%`;
                            if (tdRank) tdRank.textContent = String(commRank.get(cid) || '-');
                            // Suggestions per community
                            const commObj = communities.find(c => c.id === cid) || {size: 0, purity: 0};
                            const hints = [];
                            if ((stat.coupling || 0) > 0.7) hints.push('introduce faÃ§ade');
                            if ((commObj.size || 0) > 50 && (commObj.purity || 0) < 0.6) hints.push('split module');
                            const tdHint = document.querySelector(`.comm-hint[data-comm="${cid}"]`);
                            if (tdHint) tdHint.textContent = hints.join(' | ');
                        });

                        // Critical nodes: top 10 by centrality
                        const topNodes = Array.from(bet.entries())
                            .sort((a, b) => b[1] - a[1])
                            .slice(0, 10);
                        const listEl = document.getElementById('critical-nodes-list');
                        if (listEl) {
                            listEl.innerHTML = '';
                            topNodes.forEach(([nid, score]) => {
                                const li = document.createElement('li');
                                li.className = 'rounded border border-gray-200 p-2 text-xs bg-gray-50 hover:bg-white transition';
                                const isArt = art.has(nid);
                                const isBoundary = boundary.has(nid);
                                const comm = nodeToCommunity[nid] || '?';
                                li.innerHTML = `
                                    <div class="flex items-center justify-between gap-2">
                                        <div class="min-w-0">
                                            <div class="font-medium text-gray-800 truncate">${nid}</div>
                                            <div class="text-[11px] text-gray-500">comm ${comm} Â· centrality ${score.toFixed(3)}</div>
                                        </div>
                                        <div class="flex items-center gap-1 shrink-0">
                                            ${isArt ? '<span title="articulation" class="inline-flex items-center gap-1 px-1.5 py-0.5 rounded-full bg-amber-50 text-amber-700 ring-1 ring-amber-200">â˜…</span>' : ''}
                                            ${isBoundary ? '<span title="boundary" class="inline-flex items-center gap-1 px-1.5 py-0.5 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">B</span>' : ''}
                                        </div>
                                    </div>`;
                                listEl.appendChild(li);
                            });
                        }

                        // Highlight communities containing critical nodes
                        const criticalComms = new Map();
                        topNodes.forEach(([nid]) => {
                            const cid = nodeToCommunity[nid];
                            if (cid) criticalComms.set(cid, (criticalComms.get(cid) || 0) + 1);
                        });
                        // Fill criticalSet for filter toggle
                        criticalSet = new Set(Array.from(criticalComms.keys()));
                        // Listen to checkbox
                        const critCb = document.getElementById('only-critical-comms');
                        if (critCb) {
                            critCb.addEventListener('change', updateCriticalVisibility);
                            // Apply initial state in case user toggled earlier or default on
                            updateCriticalVisibility();
                        }
                        // Ensure initial visibility even before criticals computed
                        applyVisibility();
                        nodeG.append('circle')
                            .attr('r', d => d.r + (criticalComms.has(d.id) ? 4 : 0))
                            .attr('fill', 'none')
                            .attr('stroke', d => criticalComms.has(d.id) ? '#dc2626' : 'none')
                            .attr('stroke-width', 3)
                            .attr('opacity', 0.9);
                        // mini count label
                        nodeG.filter(d => criticalComms.has(d.id)).append('text')
                            .attr('y', d => -d.r - 6)
                            .attr('text-anchor', 'middle')
                            .attr('font-size', 10)
                            .attr('fill', '#dc2626')
                            .text(d => `hot:${criticalComms.get(d.id)}`);

                        // Global suggestions list
                        const sugEl = document.getElementById('suggestions-list');
                        if (sugEl) {
                            let suggestions = [];
                            // introduce faÃ§ade
                            commIds.forEach(cid => {
                                const st = commStats.get(cid);
                                if (st && st.coupling > 0.7) suggestions.push(`Introduce faÃ§ade for community ${cid} (coupling ${(st.coupling * 100).toFixed(0)}%)`);
                            });
                            // split module
                            communities.forEach(c => {
                                if (c.size > 50 && c.purity < 0.6) suggestions.push(`Split module for community ${c.id} (size ${c.size}, purity ${(c.purity * 100).toFixed(0)}%)`);
                            });
                            // refactor boundary node
                            topNodes.slice(0, 5).forEach(([nid]) => {
                                if (boundary.has(nid)) suggestions.push(`Refactor boundary node ${nid} (high centrality + boundary)`);
                            });
                            // unique + sorted
                            suggestions = Array.from(new Set(suggestions)).sort();
                            sugEl.innerHTML = '';
                            if (suggestions.length === 0) {
                                document.getElementById('suggestions-empty')?.classList.remove('hidden');
                            }
                            suggestions.forEach(t => {
                                const li = document.createElement('li');
                                li.className = 'p-2 border rounded flex items-start gap-2';
                                const badge = document.createElement('span');
                                badge.className = 'inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border';
                                if (t.toLowerCase().startsWith('introduce faÃ§ade')) {
                                    badge.textContent = 'Coupling';
                                    badge.className += ' border-amber-300 bg-amber-50';
                                } else if (t.toLowerCase().startsWith('split module')) {
                                    badge.textContent = 'Purity';
                                    badge.className += ' border-blue-300 bg-blue-50';
                                } else {
                                    badge.textContent = 'Boundary';
                                    badge.className += ' border-purple-300 bg-purple-50';
                                }
                                const span = document.createElement('span');
                                span.textContent = t;
                                li.appendChild(badge);
                                li.appendChild(span);
                                sugEl.appendChild(li);
                            });
                        }
                    })();

                })();
            })();
        });
    </script>
    
</div>

<!-- Architecture-oriented views -->
<div class="bg-white p-4 rounded shadow mb-8">
    <div class="flex items-center justify-between mb-2">
            <style>
                .graph-tooltip { position: fixed; pointer-events: none; z-index: 50; background: rgba(17,24,39,0.95); color: #f9fafb; font-size: 12px; line-height: 1.2; padding: 6px 8px; border-radius: 6px; box-shadow: 0 6px 18px rgba(0,0,0,0.25); transform: translate(-50%, calc(-100% - 10px)); opacity: 0; transition: opacity 120ms ease, transform 120ms ease; white-space: nowrap; }
                .graph-tooltip.visible { opacity: 1; transform: translate(-50%, calc(-100% - 6px)); }
                .graph-hover { transition: transform 120ms ease, filter 120ms ease; }
                .graph-hover:hover { transform: scale(1.06); filter: drop-shadow(0 2px 6px rgba(0,0,0,0.2)); }
                /* Disable scaling for Sankey nodes to avoid pointer loss on hover */
                #sankey .sankey-node:hover { transform: none !important; filter: drop-shadow(0 1px 4px rgba(0,0,0,0.18)); }
            </style>
        <h2 class="leading-none text-3xl font-bold text-gray-900 pb-2">Architecture</h2>
        <div class="text-sm text-gray-600">Export:
            <button id="export-layered" class="px-2 py-1 border rounded mr-1">Layered PNG</button>
            <button id="export-sankey" class="px-2 py-1 border rounded mr-1">Sankey PNG</button>
        </div>
    </div>
    <div class="grid grid-cols-12 gap-4">
        <div class="col-span-8">
            <div class="">
                <h3 class="font-semibold">Layered dependency map</h3>
                <div class="text-xs text-gray-600 flex items-center gap-4 mb-2">
                    <label>Min edge % <input id="min-edge-slider" type="range" min="0" max="50" value="0"
                                             class="align-middle"></label>
                    <label><input id="highlight-bottlenecks" type="checkbox" checked="checked" class="mr-1"> Highlight
                        bottlenecks</label>
                    <label><input id="only-cross-layer" type="checkbox" class="mr-1"> Only cross-layer</label>
                    <label><input id="bundle-edges" type="checkbox" class="mr-1"> Edge bundling</label>
                    <label>Search <input id="search-comm" type="text" placeholder="name"
                                         class="border px-1 py-0.5 rounded w-28"></label>
                </div>
            </div>
            <svg id="layered-map" viewBox="0 0 900 420" class="w-full h-[420px] border border-gray-200 rounded"></svg>
            <div class="text-xs text-gray-600 mt-1">Legend: Size = nb nodes, Color = coupling ratio (greenâ†’red), Width =
                calls
            </div>
        </div>
        <div class="col-span-4">
            <h3 class="font-semibold mb-1">Sankey</h3>
            <svg id="sankey" viewBox="0 0 500 420" class="w-full h-[420px] border border-gray-200 rounded"></svg>
        </div>

    </div>


    <script>
        // Ensure D3 v4+ is available, then ensure d3-sankey and d3-sankey-circular are loaded, then init
        (function ensureD3AndSankey() {
            function loadScript(src, onload) {
                const s = document.createElement('script');
                s.src = src;
                s.async = true;
                if (onload) {
                    s.onload = onload;
                    s.onerror = onload;
                }
                document.head.appendChild(s);
            }

            function hasD3v4plus() {
                return !!(window.d3 && typeof d3.scaleOrdinal === 'function');
            }

            function ensureSankey(next) {
                function ensureCircular() {
                    if (window.d3 && window.d3.sankeyCircular) {
                        console.debug('sankey-circular already present');
                        return next();
                    }

                    // Try multiple sources for d3-sankey-circular
                    function tryUnpkg() {
                        loadScript('https://unpkg.com/d3-sankey-circular@0.30.0/build/d3-sankey-circular.min.js', finalize);
                    }

                    function tryGist() {
                        loadScript('https://gist.githubusercontent.com/tomshanley/b82d9aede85694b1422786ef41536ec5/raw/fc0dec24324374d687068157d0f8a0f269e51dd4/d3-sankey-circular.js', finalize);
                    }

                    function finalize() {
                        // Some bundles attach differently; normalize detection
                        const ok = !!(window.d3 && (d3.sankeyCircular || (d3.sankey && d3.sankey.circular)));
                        console.debug('sankey-circular loaded?', ok);
                        next();
                    }

                    loadScript('https://cdn.jsdelivr.net/npm/d3-sankey-circular@0.30.0/build/d3-sankey-circular.min.js', () => {
                        if (!(window.d3 && (d3.sankeyCircular || (d3.sankey && d3.sankey.circular)))) return tryUnpkg();
                        finalize();
                    });
                }

                if (window.d3 && window.d3.sankey) {
                    return ensureCircular();
                }
                loadScript('https://cdn.jsdelivr.net/npm/d3-sankey@0.12.3/dist/d3-sankey.min.js', ensureCircular);
            }

            function start() {
                ensureSankey(() => {
                    window.d3sankeyLoaded = true;
                    console.debug('d3-sankey loaded; circular:', !!(window.d3 && (d3.sankeyCircular || (d3.sankey && d3.sankey.circular))));
                    initArchViews();
                });
            }

            if (!hasD3v4plus()) {
                loadScript('https://cdn.jsdelivr.net/npm/d3@7', start);
            } else {
                start();
            }
        })();

        function initArchViews() {
            const communities = JSON.parse(document.getElementById('data-communities').textContent || '[]');
            const ebc = JSON.parse(document.getElementById('data-edges-between-comms').textContent || '[]');
            const order = JSON.parse(document.getElementById('data-matrix-order').textContent || '[]');

            // Tooltip helpers
            const __tooltip = document.getElementById('graph-tooltip');
            function showTooltip(html, event) {
                if (!__tooltip) return;
                __tooltip.innerHTML = html;
                __tooltip.style.display = 'block';
                __tooltip.classList.add('visible');
                moveTooltip(event);
            }
            function moveTooltip(event) {
                if (!__tooltip) return;
                const x = event.clientX;
                const y = event.clientY;
                __tooltip.style.left = x + 'px';
                __tooltip.style.top = y + 'px';
            }
            function hideTooltip() {
                if (!__tooltip) return;
                __tooltip.classList.remove('visible');
                __tooltip.style.display = 'none';
            }

            const colorScaleNs = d3.scaleOrdinal(d3.schemeTableau10)
                .domain(Array.from(new Set(communities.map(c => (c.topNamespaces[0] || '')))));
            const colorCoupling = (c) => d3.interpolateRdYlGn(1 - Math.max(0, Math.min(1, c || 0)));

            //  Layered dependency map
            (function () {
                const svg = d3.select('#layered-map');
                svg.selectAll('*').remove();
                const W = 900, H = 420, padX = 100, padY = 50;
                // Persistent zoom layer
                const gZoom = svg.append('g').attr('class', 'zoom-layer');
                const zoom = d3.zoom().scaleExtent([0.5, 8]).on('zoom', (event) => {
                    gZoom.attr('transform', event.transform);
                });
                svg.call(zoom);
                const levels = d3.group(communities, d => d.level);
                const maxSize = d3.max(communities, d => d.size) || 1;
                const rScale = d3.scaleSqrt().domain([1, maxSize]).range([6, 34]);
                const maxEdges = d3.max(ebc, d => d.edges) || 1;
                const wScale = d3.scaleSqrt().domain([1, maxEdges]).range([0.5, 8]);
                // compute positions
                const levelKeys = Array.from(levels.keys()).sort((a, b) => a - b);
                const pos = new Map();
                levelKeys.forEach((lv, li) => {
                    const arr = levels.get(lv).slice().sort((a, b) => d3.ascending(a.id, b.id));
                    const y = padY + li * ((H - 2 * padY) / Math.max(1, levelKeys.length - 1));
                    arr.forEach((d, i) => {
                        const x = padX + (i + 1) * ((W - 2 * padX) / (arr.length + 1));
                        pos.set(d.id, {x, y, r: rScale(d.size)});
                    });
                });
                // normalized edges percentage by source
                const totalOut = d3.rollup(ebc, v => d3.sum(v, d => d.edges), d => d.from);
                let minPct = 0;

                function draw() {
                    gZoom.selectAll('*').remove();
                    // links
                    const links = ebc.filter(d => (totalOut.get(d.from) || 0) > 0)
                        .map(d => ({...d, pct: d.edges / (totalOut.get(d.from) || 1)}))
                        .filter(d => d.pct * 100 >= minPct);
                    const onlyCross = document.getElementById('only-cross-layer').checked;
                    const links2 = links.filter(d => !onlyCross || ((communities.find(c => c.id === d.from)?.level) !== (communities.find(c => c.id === d.to)?.level)));
                    gZoom.append('g').selectAll('path').data(links2).enter().append('path')
                        .attr('d', d => {
                            const s = pos.get(d.from), t = pos.get(d.to);
                            if (!s || !t) return '';
                            const bundle = document.getElementById('bundle-edges').checked;
                            const mx = bundle ? (s.x * 0.6 + t.x * 0.4) : (s.x + t.x) / 2;
                            const my = bundle ? (s.y * 0.6 + t.y * 0.4) : s.y;
                            const my2 = bundle ? (s.y * 0.4 + t.y * 0.6) : t.y;
                            return `M${s.x},${s.y} C${mx},${my} ${mx},${my2} ${t.x},${t.y}`;
                        })
                        .attr('fill', 'none')
                        .attr('stroke', '#9ca3af')
                        .attr('stroke-width', d => wScale(d.edges))
                        .attr('stroke-opacity', 0.7)
                        .on('mouseenter', function(event, d){ showTooltip(`${d.from} â†’ ${d.to}: ${d.edges} (${(d.pct * 100).toFixed(1)}%)`, event); })
                        .on('mousemove', function(event){ moveTooltip(event); })
                        .on('mouseleave', function(){ hideTooltip(); });
                    // nodes
                    const nodeG = gZoom.append('g').selectAll('g').data(communities).enter().append('g')
                        .attr('transform', d => {
                            const p = pos.get(d.id) || {x: 0, y: 0, r: 10};
                            return `translate(${p.x},${p.y})`;
                        });
                    nodeG.append('circle')
                        .attr('class', 'graph-hover')
                        .attr('r', d => (pos.get(d.id)?.r) || 10)
                        .attr('fill', d => colorCoupling(d.coupling))
                        .attr('fill-opacity', 0.9)
                        .attr('stroke', d => document.getElementById('highlight-bottlenecks').checked ? (isBottleneck(d.id) ? '#dc2626' : '#333') : '#333')
                        .attr('stroke-width', d => document.getElementById('highlight-bottlenecks').checked && isBottleneck(d.id) ? 3 : 0.5)
                        .on('mouseenter', function(event, d){
                            const html = `${d.id}<br><span style='opacity:.8'>size:${d.size} pur:${Math.round((d.purity||0) * 100)}% coup:${Math.round((d.coupling||0) * 100)}% bet:${(d.betweenness||0).toFixed(3)}</span>`;
                            showTooltip(html, event);
                        })
                        .on('mousemove', function(event){ moveTooltip(event); })
                        .on('mouseleave', function(){ hideTooltip(); });
                    nodeG.append('text')
                        .attr('y', d => (pos.get(d.id)?.r || 10) + 12)
                        .attr('text-anchor', 'middle').attr('font-size', 11).attr('fill', '#374151')
                        .text(d => `${d.id}`)
                        .each(function (d) {
                            if ((pos.get(d.id)?.r || 10) < 14) this.setAttribute('display', 'none');
                        });
                }

                function isBottleneck(id) {
                    const vals = communities.map(c => c.betweenness).sort((a, b) => b - a);
                    const cutoff = vals[Math.min(9, vals.length - 1)] || 0;
                    const v = (communities.find(c => c.id === id)?.betweenness) || 0;
                    return v >= cutoff;
                }

                draw();
                document.getElementById('min-edge-slider').addEventListener('input', (e) => {
                    minPct = parseInt(e.target.value || '0', 10);
                    draw();
                });
                document.getElementById('highlight-bottlenecks').addEventListener('change', draw);
                document.getElementById('only-cross-layer').addEventListener('change', draw);
                document.getElementById('bundle-edges').addEventListener('change', draw);
                document.getElementById('search-comm').addEventListener('input', () => {
                    const v = (document.getElementById('search-comm').value || '').trim();
                    d3.select('#layered-map').selectAll('circle')
                        .attr('stroke', d => {
                            if (!v) return (document.getElementById('highlight-bottlenecks').checked ? (isBottleneck(d.id) ? '#dc2626' : '#333') : '#333');
                            return String(d.id).includes(v) ? '#10b981' : '#bbb';
                        })
                        .attr('stroke-width', d => {
                            if (!v) return (document.getElementById('highlight-bottlenecks').checked && isBottleneck(d.id) ? 3 : 0.5);
                            return String(d.id).includes(v) ? 3 : 0.5;
                        });
                });
                document.getElementById('export-layered').addEventListener('click', () => exportSvgAsPng('#layered-map'));
            })();

            // 2) Sankey
            (function () {
                const svg = d3.select('#sankey');
                svg.selectAll('*').remove();
                const W = 500, H = 420;
                const g = svg.append('g');
                // Zoom/pan
                const zoomS = d3.zoom().scaleExtent([0.5, 8]).on('zoom', (event) => {
                    g.attr('transform', event.transform);
                });
                svg.call(zoomS);
                // Build node ids from edges; fallback to communities when ebc is empty
                const edgeIds = Array.from(new Set(ebc.flatMap(e => [e.from, e.to])));
                const ids = edgeIds.length ? edgeIds : communities.map(c => c.id);
                const idIndex = new Map(ids.map((id, i) => [id, i]));
                const nodes = ids.map(id => ({
                    name: id,
                    level: Number(communities.find(c => c.id === id)?.level) || 0
                }));
                // Map and validate links
                const linksRaw = ebc.map(e => ({
                    source: idIndex.get(e.from),
                    target: idIndex.get(e.to),
                    value: Number(e.edges)
                }));
                let links = linksRaw.filter(l => Number.isFinite(l.source) && Number.isFinite(l.target) && Number.isFinite(l.value) && l.value > 0);
                // Remove self-loops (they create circular link errors in d3-sankey)
                links = links.filter(l => l.source !== l.target);
                // Remove simple 2-cycles by keeping only the stronger direction per pair
                (function removeTwoCycles() {
                    const best = new Map(); // key "min-max" => {dir: 's->t'|'t->s', value}
                    for (const l of links) {
                        const a = Math.min(l.source, l.target);
                        const b = Math.max(l.source, l.target);
                        const key = a + "-" + b;
                        const dir = (l.source === a && l.target === b) ? 'ab' : 'ba';
                        const cur = best.get(key);
                        if (!cur || l.value > cur.value) {
                            best.set(key, {dir, value: l.value});
                        }
                    }
                    links = links.filter(l => {
                        const a = Math.min(l.source, l.target);
                        const b = Math.max(l.source, l.target);
                        const key = a + "-" + b;
                        const keep = best.get(key);
                        if (!keep) return false;
                        const dir = (l.source === a && l.target === b) ? 'ab' : 'ba';
                        return dir === keep.dir; // keep only the strongest direction
                    });
                })();
                // If circular plugin is missing, break remaining cycles so classic sankey can work
                if (!(d3 && d3.sankeyCircular)) {
                    (function breakCyclesToDAG() {
                        const n = nodes.length;
                        // Build adjacency and indegree
                        const outAdj = Array.from({length: n}, () => []);
                        const inDeg = new Array(n).fill(0);
                        links.forEach((l, i) => {
                            outAdj[l.source].push(i);
                            inDeg[l.target]++;
                        });
                        // Kahn to remove acyclic nodes
                        const q = [];
                        for (let i = 0; i < n; i++) if (inDeg[i] === 0) q.push(i);
                        const removed = new Array(n).fill(false);
                        while (q.length) {
                            const u = q.shift();
                            removed[u] = true;
                            for (const ei of outAdj[u]) {
                                const v = links[ei].target;
                                if (--inDeg[v] === 0) q.push(v);
                            }
                        }
                        // Remaining edges might be in cycles. Greedily remove smallest edges until none remain.
                        const removedEdgesLog = [];

                        function recomputeRemaining() {
                            const rem = new Set();
                            // Recompute reachability via Kahn each iteration
                            const inDeg2 = new Array(n).fill(0);
                            const outAdj2 = Array.from({length: n}, () => []);
                            links.forEach((l, i) => {
                                if (!l._removed) {
                                    outAdj2[l.source].push(i);
                                    inDeg2[l.target]++;
                                }
                            });
                            const q2 = [];
                            const removed2 = new Array(n).fill(false);
                            for (let i = 0; i < n; i++) if (inDeg2[i] === 0) q2.push(i);
                            while (q2.length) {
                                const u = q2.shift();
                                removed2[u] = true;
                                for (const ei of outAdj2[u]) {
                                    const v = links[ei].target;
                                    if (--inDeg2[v] === 0) q2.push(v);
                                }
                            }
                            for (let i = 0; i < links.length; i++) if (!links[i]._removed) {
                                const l = links[i];
                                if (!removed2[l.source] && !removed2[l.target]) rem.add(i);
                            }
                            return {rem, inDeg2, outAdj2, removed2};
                        }

                        let pass = recomputeRemaining();
                        while (pass.rem.size) {
                            let minIdx = null, minVal = Infinity;
                            for (const i of pass.rem) {
                                const v = Number(links[i].value) || 0;
                                if (v < minVal) {
                                    minVal = v;
                                    minIdx = i;
                                }
                            }
                            if (minIdx == null) break;
                            removedEdgesLog.push({
                                source: links[minIdx].source,
                                target: links[minIdx].target,
                                value: links[minIdx].value
                            });
                            links[minIdx]._removed = true;
                            pass = recomputeRemaining();
                        }
                        if (removedEdgesLog.length) {
                            console.warn('Sankey cycles broken (edges removed):', removedEdgesLog);
                        }
                        links = links.filter(l => !l._removed);
                    })();
                }
                // If we don't have enough data for a real Sankey, render a simple list so the panel isn't empty
                if (nodes.length === 0) {
                    // Nothing to show at all
                    g.append('text').attr('x', 20).attr('y', 24).attr('fill', '#6b7280').text('No community data');
                    return;
                }

                const colorScale = d3.scaleOrdinal(d3.schemeTableau10)
                    .domain(Array.from(new Set(communities.map(c => (c.topNamespaces[0] || '')))));

                if (links.length === 0) {
                    // Fallback: draw nodes as a simple vertical list with colors, and a note explaining no inter-community edges
                    const padX = 16, padY = 20, h = 16, gap = 10;
                    g.append('text').attr('x', padX).attr('y', padY - 6).attr('fill', '#6b7280').attr('font-size', 12).text('No inter-community edges â€” showing communities only');
                    nodes.forEach((d, i) => {
                        const y = padY + i * (h + gap);
                        g.append('rect')
                            .attr('x', padX)
                            .attr('y', y)
                            .attr('width', 140)
                            .attr('height', h)
                            .attr('fill', colorScale((communities.find(c => c.id === d.name)?.topNamespaces[0] || '')));
                        g.append('text')
                            .attr('x', padX + 6)
                            .attr('y', y + h * 0.72)
                            .attr('fill', '#111827')
                            .attr('font-size', 12)
                            .text(`${d.name}`);
                    });
                    return;
                }
                // Prefer circular sankey if available to support cyclic graphs
                const sankey = ((d3.sankeyCircular || (d3.sankey && d3.sankey.circular)) ? (d3.sankeyCircular ? d3.sankeyCircular() : d3.sankey.circular()) : d3.sankey())
                    .nodeWidth(12)
                    .nodePadding(12)
                    .extent([[10, 10], [W - 10, H - 10]]);
                if (sankey.circularLinkGap) sankey.circularLinkGap(2);
                if (sankey.circularLinkMinWidth) sankey.circularLinkMinWidth(1);
                // Sorting can produce issues if levels are equal/undefined; keep stable by guarding values
                sankey.nodeSort((a, b) => d3.ascending(Number(a.level) || 0, Number(b.level) || 0));
                let graph;
                try {
                    graph = sankey({nodes: nodes.map(d => ({...d})), links: links.map(d => ({...d}))});
                } catch (e) {
                    // Safety: if sankey crashes (e.g., circular links detected), do not break the page
                    console.warn('Sankey layout error (fallback to list):', e);
                    // Fallback: show simple list like the no-links case
                    const padX = 16, padY = 20, h = 16, gap = 10;
                    g.append('text').attr('x', padX).attr('y', padY - 6).attr('fill', '#6b7280').attr('font-size', 12).text('Unable to render Sankey â€” showing communities only');
                    nodes.forEach((d, i) => {
                        const y = padY + i * (h + gap);
                        g.append('rect')
                            .attr('x', padX)
                            .attr('y', y)
                            .attr('width', 140)
                            .attr('height', h)
                            .attr('fill', colorScale((communities.find(c => c.id === d.name)?.topNamespaces[0] || '')));
                        g.append('text')
                            .attr('x', padX + 6)
                            .attr('y', y + h * 0.72)
                            .attr('fill', '#111827')
                            .attr('font-size', 12)
                            .text(`${d.name}`);
                    });
                    return;
                }

                g.append('g').selectAll('path').data(graph.links).enter().append('path')
                    .attr('d', d3.sankeyLinkHorizontal())
                    .attr('fill', 'none')
                    .attr('stroke', '#9ca3af')
                    .attr('stroke-opacity', 0.5)
                    .attr('stroke-width', d => Math.max(1, d.width || 1))
                    .on('mouseenter', function(event, d){
                        const sIndex = (typeof d.source === 'object') ? d.source.index : d.source;
                        const tIndex = (typeof d.target === 'object') ? d.target.index : d.target;
                        const so = graph.nodes[sIndex] || {name: '?'};
                        const ta = graph.nodes[tIndex] || {name: '?'};
                        const tot = d3.sum(links.filter(l => l.source === sIndex).map(l => l.value)) || 1;
                        const pct = (Number(d.value) || 0) * 100 / tot;
                        showTooltip(`${so.name} â†’ ${ta.name}: ${d.value} (${pct.toFixed(1)}%)`, event);
                    })
                    .on('mousemove', function(event){ moveTooltip(event); })
                    .on('mouseleave', function(){ hideTooltip(); })
                    .on('click', function(event, d){
                        // prevent background reset
                        event.stopPropagation();
                        // find index of this link among graph.links
                        const idx = graph.links.indexOf(d);
                        sankeyFocus = {type: 'link', index: idx};
                        updateSankeyVisibility();
                    });
                // Interaction state for Sankey focus (node or link)
                let sankeyFocus = null; // {type:'node', index} or {type:'link', index}

                function updateSankeyVisibility() {
                    // When focused, hide unrelated links and dim unrelated nodes; also toggle labels
                    const linkSel = g.selectAll('path');
                    const nodeSel = g.selectAll('rect.sankey-node');
                    const textSel = g.selectAll('text.sankey-label');
                    if (!sankeyFocus) {
                        linkSel.attr('display', null).attr('stroke-opacity', 0.5);
                        nodeSel.attr('display', null).attr('opacity', 1);
                        textSel.attr('display', function(){ return this.getAttribute('data-size-hidden') === '1' ? 'none' : null; });
                        return;
                    }
                    if (sankeyFocus.type === 'node') {
                        const i = sankeyFocus.index;
                        linkSel.each(function(d){
                            const s = (typeof d.source === 'object') ? d.source.index : d.source;
                            const t = (typeof d.target === 'object') ? d.target.index : d.target;
                            const keep = (s === i || t === i);
                            d3.select(this).attr('display', keep ? null : 'none').attr('stroke-opacity', keep ? 0.7 : 0.1);
                        });
                        nodeSel.each(function(nd, idx){
                            const keep = (idx === i) || g.selectAll('path').filter(l => {
                                const s = (typeof l.source === 'object') ? l.source.index : l.source;
                                const t = (typeof l.target === 'object') ? l.target.index : l.target;
                                return (s === i && t === idx) || (t === i && s === idx);
                            }).size() > 0;
                            d3.select(this).attr('opacity', keep ? 1 : 0.1);
                        });
                        textSel.each(function(nd){
                            const idx = nd.index;
                            const keep = (idx === i) || g.selectAll('path').filter(l => {
                                const s = (typeof l.source === 'object') ? l.source.index : l.source;
                                const t = (typeof l.target === 'object') ? l.target.index : l.target;
                                return (s === i && t === idx) || (t === i && s === idx);
                            }).size() > 0;
                            d3.select(this).attr('display', keep ? (this.getAttribute('data-size-hidden') === '1' ? 'none' : null) : 'none');
                        });
                    } else if (sankeyFocus.type === 'link') {
                        const li = sankeyFocus.index;
                        linkSel.each(function(d, i){
                            const keep = (i === li);
                            d3.select(this).attr('display', keep ? null : 'none').attr('stroke-opacity', keep ? 0.8 : 0.1);
                        });
                        const focused = graph.links[li];
                        const s = (typeof focused.source === 'object') ? focused.source.index : focused.source;
                        const t = (typeof focused.target === 'object') ? focused.target.index : focused.target;
                        nodeSel.each(function(nd, idx){
                            const keep = (idx === s || idx === t);
                            d3.select(this).attr('opacity', keep ? 1 : 0.25);
                        });
                        textSel.each(function(nd){
                            const idx = nd.index;
                            const keep = (idx === s || idx === t);
                            d3.select(this).attr('display', keep ? (this.getAttribute('data-size-hidden') === '1' ? 'none' : null) : 'none');
                        });
                    }
                }

                // Clicking on empty space resets focus
                svg.on('click', function(event){
                    // Only reset if the click target is the SVG itself (not a node/text/path)
                    if (event.target === svg.node()) {
                        sankeyFocus = null;
                        updateSankeyVisibility();
                    }
                });

                const n = g.append('g').selectAll('g').data(graph.nodes).enter().append('g');
                n.append('rect')
                    .attr('class', 'sankey-node')
                    .attr('x', d => d.x0)
                    .attr('y', d => d.y0)
                    .attr('width', d => Math.max(1, (d.x1 || 0) - (d.x0 || 0)))
                    .attr('height', d => Math.max(1, (d.y1 || 0) - (d.y0 || 0)))
                    .attr('fill', d => colorScale((communities.find(c => c.id === d.name)?.topNamespaces[0] || '')))
                    .on('mouseenter', function(event, d){
                        d3.select(this).attr('stroke', '#111827').attr('stroke-width', 2);
                        showTooltip(`${d.name}`, event);
                    })
                    .on('mousemove', function(event){ moveTooltip(event); })
                    .on('mouseleave', function(){
                        d3.select(this).attr('stroke', null).attr('stroke-width', null);
                        hideTooltip();
                    })
                    .on('click', function(event, d){
                        event.stopPropagation();
                        sankeyFocus = {type: 'node', index: d.index};
                        updateSankeyVisibility();
                    });
                n.append('text')
                    .attr('class', 'sankey-label')
                    .attr('x', d => (d.x0 || 0) - 4)
                    .attr('y', d => ((d.y0 || 0) + (d.y1 || 0)) / 2)
                    .attr('dy', '0.35em')
                    .attr('text-anchor', 'end')
                    .text(d => `${d.name}`)
                    .each(function (d) {
                        if (((d.y1 || 0) - (d.y0 || 0)) < 16) { this.setAttribute('display', 'none'); this.setAttribute('data-size-hidden', '1'); }
                    });
                document.getElementById('export-sankey').addEventListener('click', () => exportSvgAsPng('#sankey'));
                // Reset focus when pressing Escape
                d3.select(window).on('keydown.sankeyFocus', (event) => {
                    if (event.key === 'Escape') { sankeyFocus = null; updateSankeyVisibility(); }
                });
            })();


            function exportSvgAsPng(sel) {
                const svg = document.querySelector(sel);
                const xml = new XMLSerializer().serializeToString(svg);
                const svg64 = btoa(unescape(encodeURIComponent(xml)));
                const img = new Image();
                img.onload = function () {
                    const canvas = document.createElement('canvas');
                    canvas.width = svg.viewBox.baseVal.width;
                    canvas.height = svg.viewBox.baseVal.height;
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, 0, 0);
                    const a = document.createElement('a');
                    a.download = sel.replace('#', '') + '.png';
                    a.href = canvas.toDataURL('image/png');
                    a.click();
                };
                img.src = 'data:image/svg+xml;base64,' + svg64;
            }
        }
    </script>
</div>





<div class="bg-white p-4 rounded shadow mb-8">
  <div class="flex items-center justify-between mb-2">
    <h2 class="leading-none text-3xl font-bold text-gray-900 pb-2">Suggestions</h2>
    <div class="text-xs text-gray-500">Automatically inferred from coupling, purity and boundary nodes</div>
  </div>
  
    <ul class="text-sm space-y-2">
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Introduce faÃ§ade for community screen_file_selection (coupling 75%)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Introduce faÃ§ade for community open_metrics_generator (coupling 78%)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Introduce faÃ§ade for community github.com/inancgumus/screen (coupling 88%)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Introduce faÃ§ade for community sync/atomic (coupling 89%)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Introduce faÃ§ade for community screen_home (coupling 86%)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Introduce faÃ§ade for community self_update_command (coupling 73%)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Introduce faÃ§ade for community json_report_generator (coupling 75%)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Introduce faÃ§ade for community file_hash (coupling 71%)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Introduce faÃ§ade for community visitor (coupling 80%)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Introduce faÃ§ade for community unicode/utf8 (coupling 80%)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Introduce faÃ§ade for community log (coupling 71%)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Introduce faÃ§ade for community github.com/charmbracelet/bubbles/textinput (coupling 80%)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Introduce faÃ§ade for community screen_summary (coupling 80%)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Refactor boundary node php_runner_test (boundary crossing)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Refactor boundary node cleaner (boundary crossing)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Refactor boundary node screen_table_class (boundary crossing)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Refactor boundary node clean_command_test (boundary crossing)</span>
      </li>
      
      <li class="p-2 border rounded flex items-start gap-2">
        <span class="inline-block text-[10px] px-1 py-0.5 rounded bg-gray-100 border">Tip</span>
        <span>Refactor boundary node version_command (boundary crossing)</span>
      </li>
      
    </ul>
  
</div>





<!-- Critical nodes -->
<div class="bg-white p-4 rounded shadow mb-8" id="critical-nodes-section">
    <div class="flex items-center justify-between mb-4">
        <h2 class="leading-none text-3xl font-bold text-gray-900 pb-2">Critical nodes</h2>
        <div class="flex items-center gap-3 text-xs">
            <span class="inline-flex items-center gap-1"><span class="inline-block w-2 h-2 rounded-full bg-amber-500"></span> articulation</span>
            <span class="inline-flex items-center gap-1"><span class="inline-block w-2 h-2 rounded-full bg-sky-500"></span> boundary</span>
        </div>
    </div>
    <div class="text-gray-600 text-sm mb-2">Top 10 nodes by betweenness centrality.</div>
    <ol id="critical-nodes-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2"></ol>
    <div class="text-gray-600 text-sm mt-4 mb-1">Boundary nodes</div>
    <div class="flex flex-wrap gap-2 text-xs" id="boundary-nodes-text">
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">php_runner_test</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">cleaner</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">screen_table_class</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">clean_command_test</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">version_command</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">self_update_command</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">screen_by_programming</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">html_report_generator</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">git_repository</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">screen_summary</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">component_statistics_overview</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">git_analyzer</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">configuration_loader_test</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">runner</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">git_repository_test</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">open_metrics_generator</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">rule_cyclomatic</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">mardown_report_generator</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">analyze_command_test</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">community_detection</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">file_hash</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">ast_dumper</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">finder</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">golang_runner</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">screen_html_report</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">python_runner</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">util</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">finder_test</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">component_search</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">tree_sitter_php</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">json_report_generator</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">component_class_table</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">halstead_metrics_visitor</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">screen_end</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">analyze_command</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">rule_volume_loc</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">aggregator_test</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">rust_runner</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">screen_file_selection</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">visitor</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">maintainability_index_visitor</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">ast_analyzer</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">requirements_evaluator_test</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">ruleset_show_command</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">php_self_static</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">version_command_test</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">ast_analyzer_test</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">rule_coupling</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">screen_home_test</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">screen_home</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">bus_factor_test</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">ruleset_add</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">styles</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">component_file_table</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">markdown_report_generator</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">php_runner</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">aggregator</span>
        
        <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full bg-sky-50 text-sky-700 ring-1 ring-sky-200">command_watcher</span>
        
    </div>
</div>


<!-- Purity per community -->
<div class="bg-white p-4 rounded shadow mb-8">
    <h2 class="leading-none text-3xl font-bold text-gray-900 pb-2">Purity per community</h2>
    <table class="min-w-full text-sm">
        <thead>
        <tr>
            <th class="text-left p-2">Community</th>
            <th class="text-left p-2">Purity</th>
            <th class="text-left p-2">Top namespace</th>
        </tr>
        </thead>
        <tbody>
        
        <tr class="border-t">
            <td class="p-2">github.com/elliotchance/orderedmap/v2</td>
            
            <td class="p-2">14.3%</td>
            <td class="p-2">time
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">markdown_report_generator</td>
            
            <td class="p-2">20.0%</td>
            <td class="p-2">github.com/flosch/pongo2/v5
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">screen_home</td>
            
            <td class="p-2">50.0%</td>
            <td class="p-2">github.com/muesli/termenv
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">self_update_command</td>
            
            <td class="p-2">25.0%</td>
            <td class="p-2">net/http
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">version_command_test</td>
            
            <td class="p-2">50.0%</td>
            <td class="p-2">io
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">github.com/fsnotify/fsnotify</td>
            
            <td class="p-2">50.0%</td>
            <td class="p-2">github.com/fsnotify/fsnotify
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">reflect</td>
            
            <td class="p-2">20.0%</td>
            <td class="p-2">google.golang.org
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">github.com/evandro/slv/go</td>
            
            <td class="p-2">50.0%</td>
            <td class="p-2">github.com/evandro/slv/go
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">json_report_generator</td>
            
            <td class="p-2">50.0%</td>
            <td class="p-2">encoding/json
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">github.com/charmbracelet/bubbles/textinput</td>
            
            <td class="p-2">50.0%</td>
            <td class="p-2">github.com/charmbracelet/bubbles/textinput
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">github.com/yargevad/filepathx</td>
            
            <td class="p-2">50.0%</td>
            <td class="p-2">github.com/yargevad/filepathx
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">github.com/inancgumus/screen</td>
            
            <td class="p-2">50.0%</td>
            <td class="p-2">github.com/inancgumus/screen
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">screen_file_selection</td>
            
            <td class="p-2">50.0%</td>
            <td class="p-2">screen_file_selection
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">sync/atomic</td>
            
            <td class="p-2">50.0%</td>
            <td class="p-2">sync/atomic
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">rule_coupling</td>
            
            <td class="p-2">25.0%</td>
            <td class="p-2">regexp
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">screen_summary</td>
            
            <td class="p-2">50.0%</td>
            <td class="p-2">github.com/charmbracelet/glamour
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">github.com/stretchr/testify/assert</td>
            
            <td class="p-2">4.8%</td>
            <td class="p-2">golang_operators_test
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">bufio</td>
            
            <td class="p-2">50.0%</td>
            <td class="p-2">bufio
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">sync</td>
            
            <td class="p-2">20.0%</td>
            <td class="p-2">version_command
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">unicode/utf8</td>
            
            <td class="p-2">50.0%</td>
            <td class="p-2">unicode/utf8
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">math</td>
            
            <td class="p-2">25.0%</td>
            <td class="p-2">halstead_metrics_visitor
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">github.com/charmbracelet/bubbletea</td>
            
            <td class="p-2">14.3%</td>
            <td class="p-2">screen_by_programming
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">file_hash</td>
            
            <td class="p-2">33.3%</td>
            <td class="p-2">encoding/hex
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">gopkg.in.yaml</td>
            
            <td class="p-2">25.0%</td>
            <td class="p-2">errors
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">math/rand</td>
            
            <td class="p-2">33.3%</td>
            <td class="p-2">math/rand
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">github.com/charmbracelet/bubbles/table</td>
            
            <td class="p-2">7.1%</td>
            <td class="p-2">community_aggregator
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">workdir</td>
            
            <td class="p-2">50.0%</td>
            <td class="p-2">github.com/google/uuid
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">open_metrics_generator</td>
            
            <td class="p-2">33.3%</td>
            <td class="p-2">github.com/bsm/openmetrics
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">sort</td>
            
            <td class="p-2">33.3%</td>
            <td class="p-2">bus_factor
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">log</td>
            
            <td class="p-2">33.3%</td>
            <td class="p-2">git_repository
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">lang_adapter</td>
            
            <td class="p-2">5.3%</td>
            <td class="p-2">github.com/smacker/go/tree
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">io/ioutil</td>
            
            <td class="p-2">33.3%</td>
            <td class="p-2">io/ioutil
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">github.com/pterm/pterm</td>
            
            <td class="p-2">20.0%</td>
            <td class="p-2">clean_command
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">github.com/halleck45/ast/metrics</td>
            
            <td class="p-2">6.7%</td>
            <td class="p-2">registry
            </td>
        </tr>
        
        <tr class="border-t">
            <td class="p-2">visitor</td>
            
            <td class="p-2">50.0%</td>
            <td class="p-2">visitor
            </td>
        </tr>
        
        </tbody>
    </table>
</div>




<!-- Communities table -->
<div class="bg-white p-4 rounded shadow mb-8">
    <h2 class="leading-none text-3xl font-bold text-gray-900 pb-2">Communities</h2>
    <table class="min-w-full text-sm sortable">
        <thead>
        <tr>
            <th class="text-left p-2">id</th>
            <th class="text-left p-2">size</th>
            <th class="text-left p-2">density</th>
            <th class="text-left p-2">purity</th>
            <th class="text-left p-2">inbound_edges</th>
            <th class="text-left p-2">outbound_edges</th>
            <th class="text-left p-2">coupling</th>
            <th class="text-left p-2">criticality_rank</th>
            <th class="text-left p-2">top_namespaces</th>
            <th class="text-left p-2">top_classes</th>
            <th class="text-left p-2">action_hints</th>
        </tr>
        </thead>
        <tbody>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">bufio</td>
            <td class="p-2">2</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="bufio">-</td>
            <td class="p-2 comm-crit-rank" data-comm="bufio">-</td>
            <td class="p-2">bufio
            </td>
            <td class="p-2">bufio, analyze_command_test
            </td>
            <td class="p-2 comm-hint" data-comm="bufio"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">json_report_generator</td>
            <td class="p-2">2</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="json_report_generator">-</td>
            <td class="p-2 comm-crit-rank" data-comm="json_report_generator">-</td>
            <td class="p-2">encoding/json
            </td>
            <td class="p-2">encoding/json, json_report_generator
            </td>
            <td class="p-2 comm-hint" data-comm="json_report_generator"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">log</td>
            <td class="p-2">3</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="log">-</td>
            <td class="p-2 comm-crit-rank" data-comm="log">-</td>
            <td class="p-2">git_repository
            </td>
            <td class="p-2">git_repository, log, os/exec
            </td>
            <td class="p-2 comm-hint" data-comm="log"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">sync</td>
            <td class="p-2">5</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="sync">-</td>
            <td class="p-2 comm-crit-rank" data-comm="sync">-</td>
            <td class="p-2">version_command
            </td>
            <td class="p-2">version_command, runtime, sync, ast_dumper, aggregator
            </td>
            <td class="p-2 comm-hint" data-comm="sync"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">github.com/fsnotify/fsnotify</td>
            <td class="p-2">2</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="github.com/fsnotify/fsnotify">-</td>
            <td class="p-2 comm-crit-rank" data-comm="github.com/fsnotify/fsnotify">-</td>
            <td class="p-2">github.com/fsnotify/fsnotify
            </td>
            <td class="p-2">github.com/fsnotify/fsnotify, command_watcher
            </td>
            <td class="p-2 comm-hint" data-comm="github.com/fsnotify/fsnotify"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">gopkg.in.yaml</td>
            <td class="p-2">4</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="gopkg.in.yaml">-</td>
            <td class="p-2 comm-crit-rank" data-comm="gopkg.in.yaml">-</td>
            <td class="p-2">errors
            </td>
            <td class="p-2">errors, ruleset_add, gopkg.in.yaml, configuration_loader
            </td>
            <td class="p-2 comm-hint" data-comm="gopkg.in.yaml"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">math/rand</td>
            <td class="p-2">3</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="math/rand">-</td>
            <td class="p-2 comm-crit-rank" data-comm="math/rand">-</td>
            <td class="p-2">math/rand
            </td>
            <td class="p-2">math/rand, community_detection, slices
            </td>
            <td class="p-2 comm-hint" data-comm="math/rand"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">github.com/charmbracelet/bubbles/table</td>
            <td class="p-2">14</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="github.com/charmbracelet/bubbles/table">-</td>
            <td class="p-2 comm-crit-rank" data-comm="github.com/charmbracelet/bubbles/table">-</td>
            <td class="p-2">community_aggregator
            </td>
            <td class="p-2">golang_runner, component_class_table, community_aggregator, github.com/charmbracelet/lipgloss, component_file_table
            </td>
            <td class="p-2 comm-hint" data-comm="github.com/charmbracelet/bubbles/table"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">lang_adapter</td>
            <td class="p-2">19</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="lang_adapter">-</td>
            <td class="p-2 comm-crit-rank" data-comm="lang_adapter">-</td>
            <td class="p-2">github.com/smacker/go/tree
            </td>
            <td class="p-2">rust_runner, runner, tree_sitter_rust, workdir_test, github.com/smacker/go/tree
            </td>
            <td class="p-2 comm-hint" data-comm="lang_adapter"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">github.com/charmbracelet/bubbles/textinput</td>
            <td class="p-2">2</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="github.com/charmbracelet/bubbles/textinput">-</td>
            <td class="p-2 comm-crit-rank" data-comm="github.com/charmbracelet/bubbles/textinput">-</td>
            <td class="p-2">github.com/charmbracelet/bubbles/textinput
            </td>
            <td class="p-2">component_search, github.com/charmbracelet/bubbles/textinput
            </td>
            <td class="p-2 comm-hint" data-comm="github.com/charmbracelet/bubbles/textinput"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">reflect</td>
            <td class="p-2">5</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="reflect">-</td>
            <td class="p-2 comm-crit-rank" data-comm="reflect">-</td>
            <td class="p-2">google.golang.org
            </td>
            <td class="p-2">bus_factor_test, NodeType.pb, cleaner, reflect, google.golang.org
            </td>
            <td class="p-2 comm-hint" data-comm="reflect"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">io/ioutil</td>
            <td class="p-2">3</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="io/ioutil">-</td>
            <td class="p-2 comm-crit-rank" data-comm="io/ioutil">-</td>
            <td class="p-2">io/ioutil
            </td>
            <td class="p-2">configuration_loader_test, io/ioutil, mardown_report_generator
            </td>
            <td class="p-2 comm-hint" data-comm="io/ioutil"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">screen_summary</td>
            <td class="p-2">2</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="screen_summary">-</td>
            <td class="p-2 comm-crit-rank" data-comm="screen_summary">-</td>
            <td class="p-2">github.com/charmbracelet/glamour
            </td>
            <td class="p-2">github.com/charmbracelet/glamour, screen_summary
            </td>
            <td class="p-2 comm-hint" data-comm="screen_summary"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">github.com/evandro/slv/go</td>
            <td class="p-2">2</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="github.com/evandro/slv/go">-</td>
            <td class="p-2 comm-crit-rank" data-comm="github.com/evandro/slv/go">-</td>
            <td class="p-2">github.com/evandro/slv/go
            </td>
            <td class="p-2">github.com/evandro/slv/go, component_barchart
            </td>
            <td class="p-2 comm-hint" data-comm="github.com/evandro/slv/go"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">github.com/yargevad/filepathx</td>
            <td class="p-2">2</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="github.com/yargevad/filepathx">-</td>
            <td class="p-2 comm-crit-rank" data-comm="github.com/yargevad/filepathx">-</td>
            <td class="p-2">github.com/yargevad/filepathx
            </td>
            <td class="p-2">github.com/yargevad/filepathx, finder
            </td>
            <td class="p-2 comm-hint" data-comm="github.com/yargevad/filepathx"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">github.com/inancgumus/screen</td>
            <td class="p-2">2</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="github.com/inancgumus/screen">-</td>
            <td class="p-2 comm-crit-rank" data-comm="github.com/inancgumus/screen">-</td>
            <td class="p-2">github.com/inancgumus/screen
            </td>
            <td class="p-2">github.com/inancgumus/screen, analyze_command
            </td>
            <td class="p-2 comm-hint" data-comm="github.com/inancgumus/screen"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">github.com/pterm/pterm</td>
            <td class="p-2">5</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="github.com/pterm/pterm">-</td>
            <td class="p-2 comm-crit-rank" data-comm="github.com/pterm/pterm">-</td>
            <td class="p-2">clean_command
            </td>
            <td class="p-2">clean_command, init_configuration_command, engine, github.com/pterm/pterm, ruleset_list_command
            </td>
            <td class="p-2 comm-hint" data-comm="github.com/pterm/pterm"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">unicode/utf8</td>
            <td class="p-2">2</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="unicode/utf8">-</td>
            <td class="p-2 comm-crit-rank" data-comm="unicode/utf8">-</td>
            <td class="p-2">unicode/utf8
            </td>
            <td class="p-2">unicode/utf8, tree_sitter_php
            </td>
            <td class="p-2 comm-hint" data-comm="unicode/utf8"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">screen_file_selection</td>
            <td class="p-2">2</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="screen_file_selection">-</td>
            <td class="p-2 comm-crit-rank" data-comm="screen_file_selection">-</td>
            <td class="p-2">screen_file_selection
            </td>
            <td class="p-2">screen_file_selection, github.com/charmbracelet/bubbles/filepicker
            </td>
            <td class="p-2 comm-hint" data-comm="screen_file_selection"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">github.com/stretchr/testify/assert</td>
            <td class="p-2">21</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="github.com/stretchr/testify/assert">-</td>
            <td class="p-2 comm-crit-rank" data-comm="github.com/stretchr/testify/assert">-</td>
            <td class="p-2">golang_operators_test
            </td>
            <td class="p-2">reporters_factory_test, php_self_static, loc_visitor_test, aggregator_test, github.com/stretchr/testify/assert
            </td>
            <td class="p-2 comm-hint" data-comm="github.com/stretchr/testify/assert"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">sync/atomic</td>
            <td class="p-2">2</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="sync/atomic">-</td>
            <td class="p-2 comm-crit-rank" data-comm="sync/atomic">-</td>
            <td class="p-2">sync/atomic
            </td>
            <td class="p-2">sync/atomic, ast_analyzer
            </td>
            <td class="p-2 comm-hint" data-comm="sync/atomic"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">github.com/charmbracelet/bubbletea</td>
            <td class="p-2">7</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="github.com/charmbracelet/bubbletea">-</td>
            <td class="p-2 comm-crit-rank" data-comm="github.com/charmbracelet/bubbletea">-</td>
            <td class="p-2">screen_by_programming
            </td>
            <td class="p-2">github.com/charmbracelet/bubbletea, screen_risks, component, screen, screen_end
            </td>
            <td class="p-2 comm-hint" data-comm="github.com/charmbracelet/bubbletea"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">file_hash</td>
            <td class="p-2">3</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="file_hash">-</td>
            <td class="p-2 comm-crit-rank" data-comm="file_hash">-</td>
            <td class="p-2">encoding/hex
            </td>
            <td class="p-2">file_hash, crypto/md5, encoding/hex
            </td>
            <td class="p-2 comm-hint" data-comm="file_hash"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">rule_coupling</td>
            <td class="p-2">4</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="rule_coupling">-</td>
            <td class="p-2 comm-crit-rank" data-comm="rule_coupling">-</td>
            <td class="p-2">regexp
            </td>
            <td class="p-2">regexp, rule_coupling, rule_volume_loc, rule_cyclomatic
            </td>
            <td class="p-2 comm-hint" data-comm="rule_coupling"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">github.com/elliotchance/orderedmap/v2</td>
            <td class="p-2">7</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="github.com/elliotchance/orderedmap/v2">-</td>
            <td class="p-2 comm-crit-rank" data-comm="github.com/elliotchance/orderedmap/v2">-</td>
            <td class="p-2">time
            </td>
            <td class="p-2">time, component_barchart_cyclomatic, component_line_chart, github.com/elliotchance/orderedmap/v2, util
            </td>
            <td class="p-2 comm-hint" data-comm="github.com/elliotchance/orderedmap/v2"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">github.com/halleck45/ast/metrics</td>
            <td class="p-2">15</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="github.com/halleck45/ast/metrics">-</td>
            <td class="p-2 comm-crit-rank" data-comm="github.com/halleck45/ast/metrics">-</td>
            <td class="p-2">registry
            </td>
            <td class="p-2">ruleset_architecture, registry, ruleset_volume, node_type_ensurer, loc_visitor
            </td>
            <td class="p-2 comm-hint" data-comm="github.com/halleck45/ast/metrics"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">workdir</td>
            <td class="p-2">2</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="workdir">-</td>
            <td class="p-2 comm-crit-rank" data-comm="workdir">-</td>
            <td class="p-2">github.com/google/uuid
            </td>
            <td class="p-2">github.com/google/uuid, workdir
            </td>
            <td class="p-2 comm-hint" data-comm="workdir"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">open_metrics_generator</td>
            <td class="p-2">3</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="open_metrics_generator">-</td>
            <td class="p-2 comm-crit-rank" data-comm="open_metrics_generator">-</td>
            <td class="p-2">github.com/bsm/openmetrics
            </td>
            <td class="p-2">github.com/bsm/openmetrics, open_metrics_generator, bytes
            </td>
            <td class="p-2 comm-hint" data-comm="open_metrics_generator"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">math</td>
            <td class="p-2">4</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="math">-</td>
            <td class="p-2 comm-crit-rank" data-comm="math">-</td>
            <td class="p-2">halstead_metrics_visitor
            </td>
            <td class="p-2">maintainability_index_visitor, halstead_metrics_visitor, risk_analyzer, math
            </td>
            <td class="p-2 comm-hint" data-comm="math"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">sort</td>
            <td class="p-2">3</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="sort">-</td>
            <td class="p-2 comm-crit-rank" data-comm="sort">-</td>
            <td class="p-2">bus_factor
            </td>
            <td class="p-2">graph_aggregator, bus_factor, sort
            </td>
            <td class="p-2 comm-hint" data-comm="sort"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">visitor</td>
            <td class="p-2">2</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="visitor">-</td>
            <td class="p-2 comm-crit-rank" data-comm="visitor">-</td>
            <td class="p-2">visitor
            </td>
            <td class="p-2">visitor, github.com/golang/protobuf/proto
            </td>
            <td class="p-2 comm-hint" data-comm="visitor"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">markdown_report_generator</td>
            <td class="p-2">5</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="markdown_report_generator">-</td>
            <td class="p-2 comm-crit-rank" data-comm="markdown_report_generator">-</td>
            <td class="p-2">github.com/flosch/pongo2/v5
            </td>
            <td class="p-2">github.com/sirupsen/logrus, github.com/flosch/pongo2/v5, markdown_report_generator, embed, html_report_generator
            </td>
            <td class="p-2 comm-hint" data-comm="markdown_report_generator"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">screen_home</td>
            <td class="p-2">2</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="screen_home">-</td>
            <td class="p-2 comm-crit-rank" data-comm="screen_home">-</td>
            <td class="p-2">github.com/muesli/termenv
            </td>
            <td class="p-2">github.com/muesli/termenv, screen_home
            </td>
            <td class="p-2 comm-hint" data-comm="screen_home"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">self_update_command</td>
            <td class="p-2">4</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="self_update_command">-</td>
            <td class="p-2 comm-crit-rank" data-comm="self_update_command">-</td>
            <td class="p-2">net/http
            </td>
            <td class="p-2">self_update_command, github.com/minio/selfupdate, github.com/jarcoal/httpmock, net/http
            </td>
            <td class="p-2 comm-hint" data-comm="self_update_command"></td>
        </tr>
        
        
        
        
        
        
        
        
        
        
        
        <tr class="border-t">
            <td class="p-2">version_command_test</td>
            <td class="p-2">2</td>
            <td class="p-2">-</td>
            
            <td class="p-2">0.0%</td>
            <td class="p-2">0</td>
            <td class="p-2">0</td>
            <td class="p-2 comm-coupling" data-comm="version_command_test">-</td>
            <td class="p-2 comm-crit-rank" data-comm="version_command_test">-</td>
            <td class="p-2">io
            </td>
            <td class="p-2">io, version_command_test
            </td>
            <td class="p-2 comm-hint" data-comm="version_command_test"></td>
        </tr>
        
        </tbody>
    </table>
</div>




            </div>

            <footer class="bg-white ">
                <div class="container flex flex-col items-center justify-end p-6 mx-auto space-y-4 sm:space-y-0 sm:flex-row">
                    <div class="flex -mx-2">

                        <a
                            aria-label="Visit Twitter account of Halleck45"
                            href="https://twitter.com/Halleck45" class="mx-2 text-gray-600 transition-colors duration-300" aria-label="Twitter">
                            <svg class="w-5 h-5 fill-current" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"  viewBox="0 0 16 16">
                                <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"/>
                              </svg>
                        </a>
            
                        <a
                            aria-label="Visit LinkedIn account of Jean-FranÃ§ois LÃ©pine"
                            href="https://www.linkedin.com/in/jean-fran%C3%A7ois-l%C3%A9pine-6a122726" class="mx-2 text-gray-600 transition-colors duration-300" aria-label="Facebook">
                            <svg class="w-5 h-5 fill-current" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                        </a>
            
                        <a 
                            aria-label="Visit Github repository of AST Metrics"
                            href="https://github.com/Halleck45/ast-metrics/" class="mx-2 text-gray-600 transition-colors duration-300" aria-label="Github">
                            <svg class="w-5 h-5 fill-current" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M12.026 2C7.13295 1.99937 2.96183 5.54799 2.17842 10.3779C1.395 15.2079 4.23061 19.893 8.87302 21.439C9.37302 21.529 9.55202 21.222 9.55202 20.958C9.55202 20.721 9.54402 20.093 9.54102 19.258C6.76602 19.858 6.18002 17.92 6.18002 17.92C5.99733 17.317 5.60459 16.7993 5.07302 16.461C4.17302 15.842 5.14202 15.856 5.14202 15.856C5.78269 15.9438 6.34657 16.3235 6.66902 16.884C6.94195 17.3803 7.40177 17.747 7.94632 17.9026C8.49087 18.0583 9.07503 17.99 9.56902 17.713C9.61544 17.207 9.84055 16.7341 10.204 16.379C7.99002 16.128 5.66202 15.272 5.66202 11.449C5.64973 10.4602 6.01691 9.5043 6.68802 8.778C6.38437 7.91731 6.42013 6.97325 6.78802 6.138C6.78802 6.138 7.62502 5.869 9.53002 7.159C11.1639 6.71101 12.8882 6.71101 14.522 7.159C16.428 5.868 17.264 6.138 17.264 6.138C17.6336 6.97286 17.6694 7.91757 17.364 8.778C18.0376 9.50423 18.4045 10.4626 18.388 11.453C18.388 15.286 16.058 16.128 13.836 16.375C14.3153 16.8651 14.5612 17.5373 14.511 18.221C14.511 19.555 14.499 20.631 14.499 20.958C14.499 21.225 14.677 21.535 15.186 21.437C19.8265 19.8884 22.6591 15.203 21.874 10.3743C21.089 5.54565 16.9181 1.99888 12.026 2Z">
                                </path>
                            </svg>
                        </a>
                    </div>
                </div>
                <div class="text-sm text-right text-gray-600 p-6">
                    at 2025-09-05 09:05 by <a href="https://github.com/Halleck45/ast-metrics">AST Metrics</a>
                </div>
            </footer>
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/tablesort.min.js" integrity="sha512-F/gIMdDfda6OD2rnzt/Iyp2V9JLHlFQ+EUyixDg9+rkwjqgW1snpkpx7FD5FV1+gG2fmFj7I3r6ReQDUidHelA==" crossorigin="anonymous" referrerpolicy="no-referrer" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/sorts/tablesort.number.min.js" integrity="sha512-dRD755QRxlybm0h3LXXIGrFcjNakuxW3reZqnPtUkMv6YsSWoJf+slPjY5v4lZvx2ss+wBZQFegepmA7a2W9eA==" crossorigin="anonymous" referrerpolicy="no-referrer" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/d3@7" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA==" crossorigin="anonymous" referrerpolicy="no-referrer" defer></script>
    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function() {
            // get .sortable tables
            const tables = document.querySelectorAll('.sortable');
            tables.forEach(function(table) {
                new Tablesort(table);
            });


            // Share buttons
            const shareButton = document.getElementById('share-twitter');
            shareButton.addEventListener('click', function(event) {

                event.preventDefault();

                html2canvas(document.body).then(function(canvas) {
                    // Get image as base64
                    let img = canvas.toDataURL('image/png');
                    img = img.replace('data:image/png;base64,', '');

                    // Upload image to imgbb
                    const imgbbKey = '1dc935a4acbf4c4afb9e42a9cc315691';
                    const formData = new FormData();
                    formData.append('image', img);
                    formData.append('name', 'ast-metrics-report.png');

                    fetch('https://api.imgbb.com/1/upload?key=' + imgbbKey, {
                        method: 'POST',
                        body: formData
                    })
                        .then(response => response.json())
                        .then(data => {
                            const imageUrl = data.data.url_viewer;
                            const text = `Check out my code analysis report, generated by AST Metrics ! #code #analysis #dev`;
                            const url = 'https://twitter.com/intent/tweet?text=' + encodeURIComponent(text) + '&url=' + encodeURIComponent(imageUrl);
                            window.open(url, '_blank');
                        });
                });
            });
        });
    </script>
    
</body>
</html>